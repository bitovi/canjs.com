<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>CanJS  - can.stache</title>
	<meta name="description" content="">
	<meta name="author" content="">

	
	<link rel="stylesheet" type="text/css" href="./static/bundles/static.css">
	
	<!--[if lt IE 9]>
   <script type="text/javascript" src="static/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs ">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand" href="../index.html">CanJS</a>
				<ul class="dropdown-menu">
				  <li><a href="http://donejs.com">DoneJS</a></li>
		          <li><a href="http://canjs.com" class="active">CanJS</a></li>
		          <li><a href="http://jquerypp.com">jQuery++</a></li>
		          <li><a href="http://stealjs.com">StealJS</a></li>
		          <li><a href="http://funcunit.com">FuncUnit</a></li>
		          <li><a href="http://documentjs.com">DocumentJS</a></li>
		        </ul>
			</div>

			<ul class="nav">
		        <li >
	              <a href="../index.html">Home</a>
                </li>
		       <li><a href='../guides/index.html'>guides</a></li>
		       <li class='active'><a href='index.html'>api</a></li>
		        <li class=" community-menu">
		          <a href="javascript://">Community</a>
		          <ul class="dropdown-menu">
		            <li><a href="http://forums.donejs.com/c/canjs">Forums</a></li>
		            <li><a href="https://www.npmjs.com/search?q=canjs">Plugins</a></li>
		            <li><a href="http://github.com/canjs/canjs">Github</a></li>
		            <li><a href="http://twitter.com/canjs">Twitter</a></li>
		            <li><a href="http://donejs.com/community.html">Meetups</a></li>
		          </ul>
		        </li>
		        <li>
	              <a href="http://blog.bitovi.com/category/open-source/">Blog</a>
                </li>
		        <li >
	              <a href="../download.html">Download</a>
                </li>
	      	</ul>

			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/design/">Design</a></li>
						<li><a href="http://bitovi.com/development/">Development</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>

		</nav>
	</header>

	
<div class="container api">

	
	<nav class="sidebar">
		
		<h2 id="version">
	<select id='versions'></select>
</h2>
<ul class="api">
	<!-- First Level -->
	
	   <li class="search-container">
	   		<a href="can.elementAndAttributes.html" data-search="Elements and Attributes">
				Elements and Attributes
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Component.html" data-search="can.Component">
				can.Component
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Construct.html" data-search="can.Construct">
				can.Construct
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Control.html" data-search="can.Control">
				can.Control
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.List.html" data-search="can.List">
				can.List
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Map.html" data-search="can.Map">
				can.Map
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Model.html" data-search="can.Model">
				can.Model
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Model.List.html" data-search="can.Model.List">
				can.Model.List
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.compute.html" data-search="can.compute">
				can.compute
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.ejs.html" data-search="can.ejs">
				can.ejs
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.event.html" data-search="can.event">
				can.event
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.fixture.html" data-search="can.fixture">
				can.fixture
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.mustache.html" data-search="can.mustache">
				can.mustache
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.route.html" data-search="can.route">
				can.route
			</a>
			
	   </li>
	
	   <li class="search-container active">
	   		<a href="can.stache.html" data-search="can.stache">
				can.stache
			</a>
			
				
	<ul class="primary-grouping">
		
			
				
					
					<li class="heading search-container">
						<span>Pages</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.magicTagTypes.html" 
							data-search="Magic Tag Types">
							Magic Tag Types
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.scopeAndContext.html" 
							data-search="Scope and Context">
							Scope and Context
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.expressions.html" 
							data-search="Expressions">
							Expressions
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.Acquisition.html" 
							data-search="Template Acquisition">
							Template Acquisition
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.Helpers.html" 
							data-search="Helpers">
							Helpers
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.Binding.html" 
							data-search="Live Binding">
							Live Binding
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Methods</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.registerHelper.html" 
							data-search="registerHelper">
							registerHelper
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.registerSimpleHelper.html" 
							data-search="registerSimpleHelper">
							registerSimpleHelper
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.safeString.html" 
							data-search="can.stache.safeString">
							safeString
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Types</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="typedef" 
							href="can.stache.helper.html" 
							data-search="can.stache.helper">
							helper
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="typedef" 
							href="can.stache.helperOptions.html" 
							data-search="helperOptions">
							helperOptions
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="typedef" 
							href="can.stache.key.html" 
							data-search="key">
							key
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="typedef" 
							href="can.stache.sectionRenderer.html" 
							data-search="sectionRenderer">
							sectionRenderer
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="typedef" 
							href="can.stache.simpleHelper.html" 
							data-search="can.stache.simpleHelper">
							simpleHelper
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Basic Tags</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.escaped.html" 
							data-search="{{key}}">
							{{key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.unescaped.html" 
							data-search="{{{key}}}">
							{{{key}}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.unescaped2.html" 
							data-search="{{&amp;key}}">
							{{&amp;key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.section.html" 
							data-search="{{#key}}">
							{{#key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.close.html" 
							data-search="{{/key}}">
							{{/key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.inverse.html" 
							data-search="{{^key}}">
							{{^key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.partial.html" 
							data-search="{{&gt;key}}">
							{{&gt;key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.comment.html" 
							data-search="{{!key}}">
							{{!key}}
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Helper Tags</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.helper.html" 
							data-search="{{helper args hashes}}">
							{{helper args hashes}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.sectionHelper.html" 
							data-search="{{#helper args hashes}}">
							{{#helper args hashes}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.if.html" 
							data-search="{{#if key}}">
							{{#if key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.else.html" 
							data-search="{{else}}">
							{{else}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.unless.html" 
							data-search="{{#unless key}}">
							{{#unless key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.each.html" 
							data-search="{{#each key}}">
							{{#each key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.with.html" 
							data-search="{{#with key}}">
							{{#with key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.data.html" 
							data-search="{{data name}}">
							{{data name}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.routeCurrent.html" 
							data-search="{{#routeCurrent hash}}">
							{{#routeCurrent hash}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.routeUrl.html" 
							data-search="{{routeUrl hashes}}">
							{{routeUrl hashes}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.log.html" 
							data-search="{{log}}">
							{{log}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.index.html" 
							data-search="{{@index}}">
							{{@index}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.key.html" 
							data-search="{{@key}}">
							{{@key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.is.html" 
							data-search="{{#is expr1 expr2}}">
							{{#is expr1 expr2}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.switch.html" 
							data-search="{{#switch expr}}">
							{{#switch expr}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.case.html" 
							data-search="{{#case expr}}">
							{{#case expr}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.default.html" 
							data-search="{{#default}}">
							{{#default}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.joinBase.html" 
							data-search="{{joinBase args}}">
							{{joinBase args}}
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Plugins</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="module" 
							href="can|view|stache|system.html" 
							data-search="system">
							system
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="module" 
							href="can|view|stache|system.import.html" 
							data-search="&lt;can-import&gt;">
							&lt;can-import&gt;
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
	</ul>

			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.util.html" data-search="can.util">
				can.util
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.view.html" data-search="can.view">
				can.view
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.view.bindings.html" data-search="can.view.bindings">
				can.view.bindings
			</a>
			
	   </li>
	
</ul>
	</nav>
	
	
	
	<article class="content docs">
	
	
		
		<section class="title">
			<div class="heading">
<h1>can.stache</h1>
	<ul class="tags">
		<li>function</li>
	</ul>
	<span class="module">can/view/stache</span>
	<span class="release">2.1</span>
</div>

<div class="sub-heading">
	
	
	<span class="inherits">&nbsp;</span>
</div>

<ul class="links">
	
		<li><a href="../docco/view/stache/mustache_core.html">docco</a></li>
	
	
		<li><a href="https://github.com/canjs/canjs/tree/2.3-legacy/view/stache/doc/stashe.md">source</a></li>
	
	
		<li><a href="https://bitbuilder.herokuapp.com/can.custom.js?plugins=http://canjs.us/release/latest/can.stache.js">download</a></li>
	
	
		<li><a href="../can/view/stache/test/test.html">tests</a></li>
	
</ul>
<br />
		</section>
		
		
		
		<section class="contents">
		</section>
		
		
		

		
		<section class="description">
			<p>Live binding Mustache and Handlebars-comptable templates.</p>

		</section>
		

		
			
				<section class="signature">
					<h2 id="sig_can_stache_template_">can.stache(template)
</h2>
<div class="signature-wrapper">
<p>Processes the template and returns a <a href="can.view.renderer.html">renderer</a> function that renders the template
with data and local helpers.</p>


	<h3>Parameters</h3>

	<ol class="parameters">
		
		<li class="parameter">
			<h4>template
				<code>{String}</code></h4>
			<div class="description">
				<p>The text of a mustache template.</p>

			</div>
			
			
			
		</li>
		
	</ol>


	<h3>Returns</h3>
	<div class="returns">
		<h4><code>{<a href="can.view.renderer.html" >renderer</a>(data, helpers)}</code></h4>
		<div class="description">
			<p>A renderer function that returns a live document fragment
that can be inserted in the page.</p>

		</div>
		
		
	</div>
	





</div>

				</section>
			
		
		
		
		

		
		<section class="comment">
			<h2>Use</h2>
<p>Stache templates are a <a href="https://mustache.github.io/mustache.5.html">mustache</a> and <a href="http://handlebarsjs.com/">handlebars</a> compatable
syntax.  They are used to:</p>
<ul>
<li>Convert data into HTML.</li>
<li>Update the HTML when observable data changes.</li>
<li>Provide custom elements and bindings.</li>
</ul>
<p>The following
creates a stache template, renders it with data, and inserts
the result into the page:</p>
<pre><code>// renderer is a &quot;renderer function&quot;
var renderer = can.stache(&quot;&lt;h1&gt;Hello {{subject}}&lt;/h1&gt;&quot;);

// &quot;renderer functions&quot; render a template and return a
// document fragment.
var fragment = renderer({subject: &quot;World&quot;})

// A document fragment is a collection of elements that can be 
// used with jQuery or with normal DOM methods.
fragment //-&gt; &lt;h1&gt;Hello World&lt;/h1&gt;
document.body.appendChild(fragment)
</code></pre>
<p>Render a template with observable data like <a href="can.Map.html">can.Map</a>s or <a href="can.List.html">can.List</a>s and the HTML will update
when the observable data changes.</p>
<pre><code>var renderer = can.stache(&quot;&lt;h1&gt;Hello {{subject}}&lt;/h1&gt;&quot;);
var map = new can.Map({subject: &quot;World&quot;});
var fragment = renderer(map)
document.body.appendChild(fragment)

map.attr(&quot;subject&quot;,&quot;Earth&quot;);

document.body.innerHTML //-&gt; &lt;h1&gt;Hello Earth&lt;/h1&gt;
</code></pre>
<p>There's a whole lot of behavior that <code>can.stache</code> provides.  The following walks through
the most important stuff:</p>
<ul>
<li><a href="can.stache.magicTagTypes.html">Magic Tag Types</a> - The different tag types like <code>{{key}}</code> and <code>{{#key}}...{{/key}}</code></li>
<li><a href="can.stache.scopeAndContext.html">Scope and Context</a> - How key values are looked up.</li>
<li><a href="can.stache.expressions.html">Expressions</a> - Supported expression types like <code>{{helper arg}}</code> and <code>{{method(arg)}}</code></li>
<li><a href="can.stache.Acquisition.html">Template Acquisition</a> - How to load templates into your application.</li>
<li><a href="can.stache.Helpers.html">Helpers</a> - The built in helpers and how to create your own.</li>
<li><a href="can.stache.Binding.html">Live Binding</a> - How live binding works.</li>
</ul>
<h2>Differences from can.mustache</h2>
<p><code>can.stache</code> is largely compatable with <a href="can.mustache.html">can.mustache</a>.  There are three main differences:</p>
<ul>
<li>Passes values in the scope to <a href="can.Component.html">can.Component</a> with <code>{key}</code>.</li>
<li><a href="can.stache.sectionRenderer.html">section renderers</a> return documentFragments.</li>
<li><a href="can.mustache.helpers.elementCallback.html">Element callbacks</a> like <code>{{(el) -&gt; CODE}}</code> are no longer supported.</li>
</ul>
<h3>Passing values in the scope to can.Components</h3>
<p>A <a href="can.mustache.html">can.mustache</a> template passes values from the scope to a <a href="can.Component.html">can.Component</a>
by specifying the key of the value in the attribute directly.  For example:</p>
<pre><code>can.Component.extend({
  tag: &quot;my-tag&quot;,
  template: &quot;&lt;h1&gt;{{greeting}}&lt;/h1&gt;&quot;
});
var template = can.mustache(&quot;&lt;my-tag greeting='message'&gt;&lt;/my-tag&gt;&quot;);

var frag = template({
  message: &quot;Hi&quot;
});

frag //-&gt; &lt;my-tag greeting='message'&gt;&lt;h1&gt;Hi&lt;/h1&gt;&lt;/my-tag&gt;
</code></pre>
<p>With stache, you wrap the key with <code>{}</code>. For example:</p>
<pre><code>can.Component.extend({
  tag: &quot;my-tag&quot;,
  template: &quot;&lt;h1&gt;{{greeting}}&lt;/h1&gt;&quot;
});
var template = can.stache(&quot;&lt;my-tag greeting='{message}'&gt;&lt;/my-tag&gt;&quot;);

var frag = template({
  message: &quot;Hi&quot;
});

frag //-&gt; &lt;my-tag greeting='{message}'&gt;&lt;h1&gt;Hi&lt;/h1&gt;&lt;/my-tag&gt;
</code></pre>
<p>If the key was not wrapped, the template would render:</p>
<pre><code>frag //-&gt; &lt;my-tag greeting='message'&gt;&lt;h1&gt;message&lt;/h1&gt;&lt;/my-tag&gt;
</code></pre>
<p>Because the attribute value would be passed as the value of <code>greeting</code>.</p>
<h3>Section renderers return documentFragments</h3>
<p>A <a href="can.mustache.sectionRenderer.html">Mustache section renderer</a> called
like <code>options.fn()</code> or <code>options.inverse()</code> would always return a String. For example,
the following would wrap the <code>.fn</code> section in an <code>&lt;h1&gt;</code> tag:</p>
<pre><code>can.mustache.registerHelper(&quot;wrapH1&quot;, function(options.fn()){
   return &quot;&lt;h1&gt;&quot;+options.fn()+&quot;&lt;/h1&gt;&quot;;
});

var template = can.mustache(&quot;{{#wrapH1}}Hi There!{{/#wrapH1}}&quot;);
template() //-&gt; &lt;h1&gt;Hi There&lt;/h1&gt;
</code></pre>
<p><code>can.stache</code>'s <a href="can.stache.sectionRenderer.html">section renderers</a> return documentFragments when sections
are not contained within an html element. This means the result of the previous helper would be:</p>
<pre><code>&lt;h1&gt;[object DocumentFragment]&lt;/h1&gt;
</code></pre>
<p>Instead, helper functions should manipulate the document fragment into the desired response.  With
jQuery, this can be done like:</p>
<pre><code>can.stache.registerHelper(&quot;wrapH1&quot;, function(options.fn()){
   return $(&quot;&lt;h1&gt;&quot;).append( options.fn() );
});

var template = can.stache(&quot;{{#wrapH1}}Hi There!{{/#wrapH1}}&quot;);
template() //-&gt; &lt;h1&gt;Hi There&lt;/h1&gt;
</code></pre>
<h3>Element callbacks are no longer supported</h3>
<p><code>can.mustache</code> supported <a href="can.mustache.helpers.elementCallback.html">element callbacks</a> like <code>{{(el) -&gt; CODE}}</code>. These
are not supported in <code>can.stache</code>.  Instead, create a helper that returns a function or register
a <a href="can.view.attr.html">custom attribute</a>.</p>
<pre><code>can.stache.registerHelper(&quot;elementCallback&quot;, function(){
  return function(el){
    CODE
  }
});

can.view.tag(&quot;element-callback&quot;, function(el){
  CODE
})
</code></pre>
<h2>Working with Promises</h2>
<p>Promises passed into a template have the following attributes that are observable:</p>
<ul>
<li>isPending</li>
<li>isResolved</li>
<li>isRejected</li>
<li>value - the resolved value of the promise, only available if <code>isResolved</code> is true</li>
<li>reason - the rejected value, only available if <code>isRejected</code> is true</li>
<li>state - &quot;pending&quot;, &quot;resolved&quot;, or &quot;rejected&quot;</li>
</ul>
<p>Stache Template</p>
<pre><code>&lt;script id=&quot;template&quot; type=&quot;text/stache&quot;&gt;
    {{#if items.isPending}}
        &lt;img src=&quot;loading.png&quot;/&gt;
    {{/if}}

    {{#if items.isResolved}}
        {{#each items.value}}
            &lt;h2&gt;{{name}}&lt;/h2&gt;
        {{/each}}
    {{/if}}

    {{#if items.isRejected}}
        &lt;img src=&quot;error.png&quot;/&gt;
    {{/if}}
&lt;/script&gt;
</code></pre>
<p>JavaScript</p>
<pre><code>var promise = $.get('/items');
var template = can.view('template', { items: promise });
</code></pre>
<h2>Tags</h2>

		</section>
		
		

		

		
		<section class="api">
			<div class='group_1'><div class='small-signature'><a href="can.stache.tags.escaped.html" class="sig"><code class='prettyprint'>{{key}}</code></a><p>Insert the value of the <a href="can.stache.key.html">key</a> into the output of the template.</p></div></div><div class='group_1'><div class='small-signature'><a href="can.stache.tags.unescaped.html" class="sig"><code class='prettyprint'>{{{key}}}</code></a><p>Behaves just like <a href="can.stache.tags.escaped.html">{{key}}</a> and <a href="can.stache.helpers.helper.html">{{helper}}</a> but does not
escape the result.</p></div></div><div class='group_1'><div class='small-signature'><a href="can.stache.tags.unescaped2.html" class="sig"><code class='prettyprint'>{{&amp;key}}</code></a><p>The `{{&key}}` tag is an alias for <a href="can.stache.tags.unescaped.html">{{{key}}}</a>, behaving just
like <a href="can.stache.tags.escaped.html">{{key}}</a> and <a href="can.stache.helpers.helper.html">{{helper}}</a> but does not
escape the result.</p></div></div><div class='group_1'><div class='small-signature'><a href="can.stache.tags.section.html" class="sig"><code class='prettyprint'>{{#key}}BLOCK{{/key}}</code></a><p>Render blocks of text one or more times, depending
on the value of the key in the current context.</p></div></div><div class='group_1'><div class='small-signature'><a href="can.stache.tags.close.html" class="sig"><code class='prettyprint'>{{/key}}</code></a><p>Ends a <a href="can.stache.tags.section.html">{{#key}}</a> or [can.stache.tags.sectionHelper {{#helper}}]
block.</p></div></div><div class='group_1'><div class='small-signature'><a href="can.stache.tags.inverse.html" class="sig"><code class='prettyprint'>{{^key}}BLOCK{{/key}}</code></a><p>Render blocks of text if the value of the key
is falsey. </p></div></div><div class='group_1'><div class='small-signature'><a href="can.stache.helpers.partial.html" class="sig"><code class='prettyprint'>{{&gt;key}}</code></a><p>Render another template within the current template.</p></div></div><div class='group_1'><div class='small-signature'><a href="can.stache.tags.comment.html" class="sig"><code class='prettyprint'>{{!key}}</code></a><p>The comment tag operates similarly to a `<!-- -->` tag in HTML. </p></div></div>
		</section>
		
	
	
	</article>
	
	

</div>






	
	<footer>
		<nav class="container">
			<a class="brand" href="index.html"></a>
			<ul class='nav'>
				<li >
	              <a href="../index.html">Home</a>
	            </li>
		        <li><a href='../guides/index.html'>guides</a></li>
		        <li class='active'><a href='index.html'>api</a></li>
		        <li>
	              <a href="http://blog.bitovi.com/category/open-source/">Blog</a>
	            </li>
		        <li >
	              <a href="../download.html">Download</a>
	            </li>
            </ul>
		</nav>
	</footer>
	


    <script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-2302003-11']);
	  _gaq.push(['_setDomainName', 'canjs.com']);
	  _gaq.push(['_setAllowLinker', true]);
	  _gaq.push(['_trackPageview']);

	  (function() {
	  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>

	<script type="text/javascript">
		var docObject = {"type":"function","name":"can.stache","src":"view/stache/doc/stashe.md","description":"Live binding Mustache and Handlebars-comptable templates.","title":"","parent":"canjs","release":"2.1","links":[{"href":"../docco/view/stache/mustache_core.html","title":"docco"}],"test":"can/view/stache/test/test.html","plugin":"can/view/stache","download":"http://canjs.us/release/latest/can.stache.js","signatures":[{"code":"can.stache(template)","description":"Processes the template and returns a [can.view.renderer] function that renders the template\nwith data and local helpers.","params":[{"types":[{"type":"String"}],"name":"template","description":"The text of a mustache template."}],"returns":{"types":[{"type":"can.view.renderer"}],"description":"A renderer function that returns a live document fragment\nthat can be inserted in the page."}}],"comment":" ","api":"can.stache.tags","ignoreTemplateRender":true,"templates":"/Users/daffl/Jupiter/sites/legacy-canjs.com/theme/templates","static":"/Users/daffl/Jupiter/sites/legacy-canjs.com/theme/static","versionsSelectText":"CanJS v<%= version %>","glob":{"ignore":["guides/*.md","guides/**/*.md","guides/*.js","guides/**/*.js","{node_modules,bower_components,dist}/**/*","lib/**/*","test/**/*","util/dojo/dojo.js","**/*_test.js","Gruntfile.js"],"pattern":"**/*.{md,js}","cwd":"/Users/daffl/Jupiter/sites/legacy-canjs.com/can"},"forceBuild":true,"dest":"/Users/daffl/Jupiter/sites/legacy-canjs.com/docs","generators":["html"],"urls":{"builderData":"https://bitbuilder.herokuapp.com/canjs","builder":"https://bitbuilder.herokuapp.com/can.custom.js","bithub":"http://bitovi.bithub.com/api/v1/events/","cdn":"//canjs.com/release/","github":"https://github.com/bitovi/canjs.com"},"versions":[{"branch":"major","number":"3.0-pre"},{"branch":"master","number":"2.3"},{"number":"2.2"},{"number":"2.1"},{"number":"1.1"}],"defaultDownloadVersion":"2.3.27","docConfigDest":"../documentjs.json","project":{"version":"2.3","name":"canjs","source":"git://github.com/canjs/canjs#2.3-legacy"}};
	</script>

	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript'
				data-main="static"
				data-config="./static/config.js"
				src="./static/steal.production.js"
		    		bundles-path="bundles"></script>
	

</body>

</html>
