<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>CanJS - key </title>
	<meta name="description" content="">
	<meta name="author" content="">

	
	<link rel="stylesheet" type="text/css" href="./static/bundles/static.css">
	
	<!--[if lt IE 9]>
   <script type="text/javascript" src="static/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs ">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand" href="../index.html">CanJS</a>
				<ul class="dropdown-menu">
				  <li><a href="http://donejs.com">DoneJS</a></li>
		          <li><a href="http://canjs.com" class="active">CanJS</a></li>
		          <li><a href="http://jquerypp.com">jQuery++</a></li>
		          <li><a href="http://stealjs.com">StealJS</a></li>
		          <li><a href="http://funcunit.com">FuncUnit</a></li>
		          <li><a href="http://documentjs.com">DocumentJS</a></li>
		        </ul>
			</div>

			<ul class="nav">
		        <li >
	              <a href="../index.html">Home</a>
                </li>
		       <li><a href='../guides/index.html'>guides</a></li>
		       <li class='active'><a href='index.html'>api</a></li>
		        <li class=" community-menu">
		          <a href="javascript://">Community</a>
		          <ul class="dropdown-menu">
		            <li><a href="http://forums.donejs.com/c/canjs">Forums</a></li>
		            <li><a href="https://www.npmjs.com/search?q=canjs">Plugins</a></li>
		            <li><a href="http://github.com/canjs/canjs">Github</a></li>
		            <li><a href="http://twitter.com/canjs">Twitter</a></li>
		            <li><a href="http://donejs.com/community.html">Meetups</a></li>
		          </ul>
		        </li>
		        <li>
	              <a href="http://blog.bitovi.com/category/open-source/">Blog</a>
                </li>
		        <li >
	              <a href="../download.html">Download</a>
                </li>
	      	</ul>

			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/design/">Design</a></li>
						<li><a href="http://bitovi.com/development/">Development</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>

		</nav>
	</header>

	
<div class="container api">

	
	<nav class="sidebar">
		
		<h2 id="version">
	<select id='versions'></select>
</h2>
<ul class="api">
	<!-- First Level -->
	
	   <li class="search-container">
	   		<a href="can.elementAndAttributes.html" data-search="Elements and Attributes">
				Elements and Attributes
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Component.html" data-search="can.Component">
				can.Component
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Construct.html" data-search="can.Construct">
				can.Construct
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Control.html" data-search="can.Control">
				can.Control
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.List.html" data-search="can.List">
				can.List
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Map.html" data-search="can.Map">
				can.Map
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Model.html" data-search="can.Model">
				can.Model
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Model.List.html" data-search="can.Model.List">
				can.Model.List
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.compute.html" data-search="can.compute">
				can.compute
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.ejs.html" data-search="can.ejs">
				can.ejs
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.event.html" data-search="can.event">
				can.event
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.fixture.html" data-search="can.fixture">
				can.fixture
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.mustache.html" data-search="can.mustache">
				can.mustache
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.route.html" data-search="can.route">
				can.route
			</a>
			
	   </li>
	
	   <li class="search-container active">
	   		<a href="can.stache.html" data-search="can.stache">
				can.stache
			</a>
			
				
	<ul class="primary-grouping">
		
			
				
					
					<li class="heading search-container">
						<span>Pages</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.magicTagTypes.html" 
							data-search="Magic Tag Types">
							Magic Tag Types
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.scopeAndContext.html" 
							data-search="Scope and Context">
							Scope and Context
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.expressions.html" 
							data-search="Expressions">
							Expressions
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.Acquisition.html" 
							data-search="Template Acquisition">
							Template Acquisition
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.Helpers.html" 
							data-search="Helpers">
							Helpers
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="can.stache.Binding.html" 
							data-search="Live Binding">
							Live Binding
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Methods</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.registerHelper.html" 
							data-search="registerHelper">
							registerHelper
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.registerSimpleHelper.html" 
							data-search="registerSimpleHelper">
							registerSimpleHelper
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.safeString.html" 
							data-search="can.stache.safeString">
							safeString
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Types</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="typedef" 
							href="can.stache.helper.html" 
							data-search="can.stache.helper">
							helper
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="typedef" 
							href="can.stache.helperOptions.html" 
							data-search="helperOptions">
							helperOptions
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container active  expanded">
						<a 	class="typedef" 
							href="can.stache.key.html" 
							data-search="key">
							key
						</a>
						
							
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="typedef" 
							href="can.stache.sectionRenderer.html" 
							data-search="sectionRenderer">
							sectionRenderer
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="typedef" 
							href="can.stache.simpleHelper.html" 
							data-search="can.stache.simpleHelper">
							simpleHelper
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Basic Tags</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.escaped.html" 
							data-search="{{key}}">
							{{key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.unescaped.html" 
							data-search="{{{key}}}">
							{{{key}}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.unescaped2.html" 
							data-search="{{&amp;key}}">
							{{&amp;key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.section.html" 
							data-search="{{#key}}">
							{{#key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.close.html" 
							data-search="{{/key}}">
							{{/key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.inverse.html" 
							data-search="{{^key}}">
							{{^key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.partial.html" 
							data-search="{{&gt;key}}">
							{{&gt;key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.tags.comment.html" 
							data-search="{{!key}}">
							{{!key}}
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Helper Tags</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.helper.html" 
							data-search="{{helper args hashes}}">
							{{helper args hashes}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.sectionHelper.html" 
							data-search="{{#helper args hashes}}">
							{{#helper args hashes}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.if.html" 
							data-search="{{#if key}}">
							{{#if key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.else.html" 
							data-search="{{else}}">
							{{else}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.unless.html" 
							data-search="{{#unless key}}">
							{{#unless key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.each.html" 
							data-search="{{#each key}}">
							{{#each key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.with.html" 
							data-search="{{#with key}}">
							{{#with key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.data.html" 
							data-search="{{data name}}">
							{{data name}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.routeCurrent.html" 
							data-search="{{#routeCurrent hash}}">
							{{#routeCurrent hash}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.routeUrl.html" 
							data-search="{{routeUrl hashes}}">
							{{routeUrl hashes}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.log.html" 
							data-search="{{log}}">
							{{log}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.index.html" 
							data-search="{{@index}}">
							{{@index}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.key.html" 
							data-search="{{@key}}">
							{{@key}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.is.html" 
							data-search="{{#is expr1 expr2}}">
							{{#is expr1 expr2}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.switch.html" 
							data-search="{{#switch expr}}">
							{{#switch expr}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.case.html" 
							data-search="{{#case expr}}">
							{{#case expr}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.default.html" 
							data-search="{{#default}}">
							{{#default}}
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.stache.helpers.joinBase.html" 
							data-search="{{joinBase args}}">
							{{joinBase args}}
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Plugins</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="module" 
							href="can|view|stache|system.html" 
							data-search="system">
							system
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="module" 
							href="can|view|stache|system.import.html" 
							data-search="&lt;can-import&gt;">
							&lt;can-import&gt;
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
	</ul>

			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.util.html" data-search="can.util">
				can.util
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.view.html" data-search="can.view">
				can.view
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.view.bindings.html" data-search="can.view.bindings">
				can.view.bindings
			</a>
			
	   </li>
	
</ul>
	</nav>
	
	
	
	<article class="content docs">
	
	
		
		<section class="title">
			<div class="heading">
<h1>key</h1>
	<ul class="tags">
		<li>typedef</li>
	</ul>
	
	
</div>

<div class="sub-heading">
	
	
		<span class="module">can.stache.key</span>
	
	
	
	<h2><code>{String}</code></h2>
	
	<span class="inherits">&nbsp;</span>
</div>

<ul class="links">
	
	
		<li><a href="https://github.com/canjs/canjs/tree/2.3-legacy/view/stache/doc/key.md">source</a></li>
	
	
	
</ul>
<br />
		</section>
		
		
		
		<section class="contents">
		</section>
		
		
		

		
		<section class="description">
			<p>A named reference to a value in the <a href="can.view.Scope.html">scope</a> or  <a href="can.view.Options.html">helper scope</a> in a template.</p>

		</section>
		

		
			
			<section class='primary-options'>
				

  <h2 id="sig_">String
</h2>
<div class="signature-wrapper">
<p>A key specifies a value in the <a href="can.view.Scope.html">scope</a> or
<a href="can.view.Options.html">options</a> of a template being rendered. The
key is used to look up a value in the scope.</p>
<p>What the key looks like changes the behavior of how a value is looked up in
the scope. Keys can look like:</p>
<ul>
<li><code>{{name}}</code> - Single property name.</li>
<li><code>{{name.first}}</code> - Multiple property names.</li>
<li><code>{{foo\\.bar}}</code> - Single property name that includes a dot character.</li>
<li><code>{{./name}}</code> - Single property in the current context.</li>
<li><code>{{../name}}</code> - Single property in the parent context.</li>
<li><code>{{.}}</code> or <code>{{this}}</code> - The current context.</li>
<li><code>{{../.}}</code> - The parent context.</li>
<li><code>{{@key}}</code> - Pass the value at key, even if it's a function or a compute.</li>
<li><code>{{~key}}</code> - Pass a compute as the key's value instead of the value.</li>
<li><code>{{*variable}}</code> - Reference a value in template scope.</li>
<li><code>{{%key}}</code> - A special value that is added to scope. Examples:
<ul>
<li><code>{{%index}}</code> - The index of a value in an array or <a href="can.List.html">can.List</a>.</li>
<li><code>{{%key}}</code> - The property name of a value within an object or <a href="can.Map.html">can.Map</a>.</li>
<li><code>{{%element}}</code> - The element an event was dispatched on.</li>
<li><code>{{%event}}</code> - The event object.</li>
<li><code>{{%viewModel}}</code> - The viewModel of the current element.</li>
</ul></li>
</ul>







</div>

  

			</section>
			
		
		
		
		

		
		<section class="comment">
			<h2>Use</h2>
<p>A key references a value within the <a href="can.view.Scope.html">scope</a> of a
template being rendered. In the following example, the
key is <code>name</code>:</p>
<pre><code>&lt;h1&gt;{{name}}&lt;/h1&gt;
</code></pre>
<p>If this template is rendered with:</p>
<pre><code>{
  name: &quot;Austin&quot;
}
</code></pre>
<p>The template writes out:</p>
<pre><code>&lt;h1&gt;Austin&lt;/h1&gt;
</code></pre>
<p>A scope is a collection of multiple contexts. By default, a
key walks up the scope to each context until it finds a value. For example,
a template like:</p>
<pre><code>{{first}} {{last}}
  {{#children}}
    {{first}} {{last}}
  {{/children}}
</code></pre>
<p>Rendered with:</p>
<pre><code>{
  first: &quot;Barry&quot;, last: &quot;Meyer&quot;,
  children: [
    {first: &quot;Kim&quot;, last: &quot;Sully&quot;},
    {first: &quot;Justin&quot;},
  ]
}
</code></pre>
<p>Writes out:</p>
<pre><code>Barry Meyer
    Kim Sully
    Justin Meyer
</code></pre>
<p>When <code>last</code> is looked up on the <code>{first: &quot;Justin&quot;}</code> object and not found,
it will then try to read the parent context's <code>last</code> property.  This is
why &quot;Justin Meyer&quot; is written out.</p>
<p>Keys have different operators that control the values that are
looked up or the value that is returned:</p>
<ul>
<li><strong>value lookup</strong> <code>EXPRESSION.key</code></li>
<li><strong>current context</strong> <code>./key</code></li>
<li><strong>parent context</strong> <code>../key</code></li>
<li><strong>context</strong> <code>.</code> or <code>this</code></li>
<li><strong>special</strong> <code>%special</code></li>
<li><strong>template variable</strong> <code>*key</code></li>
<li><strong>at</strong> <code>@key</code></li>
<li><strong>compute</strong> <code>~key</code></li>
</ul>
<h2>Default key return values by expression and data types</h2>
<p>Keys can have slightly different default behavior depending if they are used in:</p>
<ul>
<li><a href="can.stache.expressions.html#section_Helperexpression">helper arguments</a> like: <code>{{helper some.key}}</code></li>
</ul>
<p>when compared to the other places they are used:</p>
<ul>
<li><a href="can.stache.expressions.html#section_KeyLookupexpressions">lookup expressions</a> like: <code>{{some.key}}</code></li>
<li><a href="can.stache.expressions.html#section_Callexpression">call-expression arguments</a> like: <code>{{helper(some.key)}}</code></li>
<li><a href="can.view.bindings.can-EVENT.html">event bindings</a> like: <code>($click)=&quot;method(some.key)&quot;</code></li>
<li><a href="can.view.bindings.html">data bindings</a> like: <code>{some-attr}=&quot;some.key&quot;</code></li>
</ul>
<p>Furthermore keys return different values depending on the data type.</p>
<p>In general:</p>
<ul>
<li>Functions are called to get their return value. (Use the AT operator <code>@</code> to prevent this).</li>
<li>Keys in helper expression arguments that find observable data return
a <a href="can.compute.html">can.compute</a> that represents the value.</li>
<li>Keys in other expressions return the value.</li>
<li>If no observable data is found, the key's value is returned in all expressions.</li>
</ul>
<p>The following illustrates what <code>some.key</code> would return given
different data structures as a helper expression and in all other expressions.</p>
<pre><code>// A non-observable JS object:
{some: {key: &quot;value&quot;}};
   // Helper -&gt; &quot;value&quot;
   // Other  -&gt; &quot;value&quot;

// A non-observable JS object w/ a function at the end
{some: {key: function(){ return &quot;value&quot;; }}}
   // Helper -&gt; &quot;value&quot;
   // Other  -&gt; &quot;value&quot;

// A non-observable JS object with intermeidate functions:
{some: function(){ return {key: &quot;value&quot;}}}
   // Helper -&gt; &quot;value&quot;
   // Other  -&gt; &quot;value&quot;

// A observable can.Map
{some: new can.Map({key: &quot;value&quot;})}
   // Helper -&gt; can.compute(&quot;value&quot;)
   // Other  -&gt; &quot;value&quot;

// A method on an observable can.Map that reads observables
var Some = can.Map.extend({key: function(){ return this.attr(&quot;value&quot;)}})
{some: new Some({value: &quot;value&quot;})}
   // Helper -&gt; can.compute(&quot;value&quot;)
   // Other  -&gt; &quot;value&quot;
</code></pre>
<h2>context operators <code>./</code>, <code>../</code>, <code>.</code> and <code>this</code></h2>
<p>Sometimes, especially with recursive templates, you want to control which
context is used to lookup.  Adding <code>./</code> before the key name will
only look up in the current context.</p>
<p>The following template:</p>
<pre><code>{{first}} {{last}}
  {{#children}}
    {{first}} {{./last}}
  {{/children}}
</code></pre>
<p>Rendered with:</p>
<pre><code>{
  first: &quot;Barry&quot;, last: &quot;Meyer&quot;,
  children: [
    {first: &quot;Kim&quot;, last: &quot;Sully&quot;},
    {first: &quot;Justin&quot;},
  ]
}
</code></pre>
<p>Writes out:</p>
<pre><code>Barry Meyer
    Kim Sully
    Justin 
</code></pre>
<p>Notice that <code>{{./last}}</code> returns nothing because there's no <code>last</code> property
in the <code>{first: &quot;Justin&quot;}</code> object.</p>
<p>Adding <code>../</code> before a key will lookup the key starting in the parent
context.  By changing the previous template to:</p>
<pre><code>{{first}} {{last}}
  {{#children}}
    {{first}} {{../last}}
  {{/children}}
</code></pre>
<p>It will write out:</p>
<pre><code>Barry Meyer
    Kim Meyer
    Justin Meyer
</code></pre>
<p>You can use <code>.././last</code> to lookup <code>last</code> <em>only</em> in the parent context.</p>
<p>To write out the current context, write <code>{{.}}</code> or <code>{{this}}</code>. For example,
a template like:</p>
<pre><code>{{#each names}}{{.}} {{/each}}
</code></pre>
<p>With data like:</p>
<pre><code>{names: [&quot;Jan&quot;,&quot;Mark&quot;,&quot;Andrew&quot;]}
</code></pre>
<p>Will write out:</p>
<pre><code>Jan Mark Andrew 
</code></pre>
<h2>at operator <code>@</code></h2>
<p>The AT operator indicates to return whatever value is at a key, regardless
if it's a function or a compute.</p>
<p>The following illustrates what <code>some@key</code> would return given
different data structures:</p>
<pre><code>// A non-observable JS object:
{some: {key: &quot;value&quot;}} 
   //-&gt; &quot;value&quot;

// A non-observable JS object w/ a function at the end
{some: {key: function(){ return &quot;value&quot;; }}}
   //-&gt; function(){ return &quot;value&quot;; }

// A non-observable JS object with intermeidate functions:
{some: function(){ return {key: &quot;value&quot;}}}
   //-&gt; &quot;value&quot;

// A observable can.Map
{some: new can.Map({key: &quot;value&quot;})}
   //-&gt; &quot;value&quot;

// A method on an observable can.Map that reads observables
var Some = can.Map.extend({key: function(){ return this.attr(&quot;value&quot;)}})
{some: new Some({value: &quot;value&quot;})}
   //-&gt; function(){ return this.attr(&quot;value&quot;)}
</code></pre>
<p>Where <code>some@key</code> returns a function, that function is &quot;bound&quot; via <code>.bind(context)</code>
to the parent object.  This means that calling the function will
have <code>this</code> set to what is expected.</p>
<p>If the AT operator is used at the start of a key like:</p>
<pre><code>{{method(@key)}}
</code></pre>
<p>This will return whatever is at the <code>key</code> property on the first context in the scope
to have a non-undefined <code>key</code> value.</p>
<p>The AT operator can be used multiple times within a value lookup expression like:</p>
<pre><code>{{method(models@Todo@findAll)}}
</code></pre>
<h2>compute operator <code>~</code></h2>
<p>The compute operator can be used in non helper expressions to pass
a compute instead of a value if an observable is found.  This
makes non-helper expression arguments behave similar to helper
expression arguments.</p>
<p>The following illustrates what <code>~some.key</code> would return given
different data structures:</p>
<pre><code>// A non-observable JS object:
{some: {key: &quot;value&quot;}} 
   //-&gt; &quot;value&quot;

// A non-observable JS object w/ a function at the end
{some: {key: function(){ return &quot;value&quot;; }}}
   //-&gt; &quot;value&quot;

// A non-observable JS object with intermeidate functions:
{some: function(){ return {key: &quot;value&quot;}}}
   //-&gt; &quot;value&quot;

// A observable can.Map
{some: new can.Map({key: &quot;value&quot;})}
   //-&gt; can.compute(&quot;value&quot;)

// A method on an observable can.Map that reads observables
var Some = can.Map.extend({key: function(){ return this.attr(&quot;value&quot;)}})
{some: new Some({value: &quot;value&quot;})}
   //-&gt; can.compute(function(){ return this.attr(&quot;value&quot;)})
</code></pre>
<p>Notice that <code>~</code> should only be used once in a value lookup expression.</p>
<h2>template variable operator <code>*</code></h2>
<p>Every template contains a context which is able to store values
local to the template. Keys with <code>*</code> reference variables in that context.</p>
<p>Template variables are often used to pass data between
components. <code>&lt;component-a&gt;</code> exports its <code>propA</code> value to the
template variable <code>*variable</code>.  This is, in turn, used to update
the value of <code>propB</code> in <code>&lt;component-b&gt;</code>.</p>
<pre><code>&lt;component-a {^prop-a}=&quot;*variable&quot;/&gt;
&lt;component-b {prop-b}=&quot;*variable&quot;/&gt;
</code></pre>
<p>Template variables are global to the template. Similar to JavaScript <code>var</code>
variables, template variables do not have block leve scope.  The following
does not work:</p>
<pre><code>{{#each something}}
    &lt;component-a {^prop-a}=&quot;*variable&quot;/&gt;
    &lt;component-b {prop-b}=&quot;*variable&quot;/&gt;
{{/each}}
</code></pre>
<p>To work around this, an <code>localContext</code> helper could be created as follows:</p>
<pre><code>can.stache.regsiterHelper(&quot;localContext&quot;, function(options){
  return options.fn(new can.Map());
});
</code></pre>
<p>And used like:</p>
<pre><code>{{#each something}}
    {{#localContext}}
      &lt;component-a {^prop-a}=&quot;./variable&quot;/&gt;
      &lt;component-b {prop-b}=&quot;./variable&quot;/&gt;
    {{/localContext}}
{{/each}}
</code></pre>
<h2>special operator <code>%</code></h2>
<p><a href="can.view.bindings.can-EVENT.html">Event bindings</a> and some helpers like <a href="can.stache.helpers.each.html">{{#each key}}</a>
provide special values that start with <code>%</code> to prevent potential collisions with
other values.</p>
<h3>%index and %key</h3>
<p>When looping over an array or <a href="can.List.html">can.List</a>, you an use <code>%index</code> to write out
the index of each property:</p>
<pre><code>{{#each task}}
  &lt;li&gt;{{%index}} {{name}}&lt;/li&gt;
{{/each}}
</code></pre>
<p>Indexes start at 0.  If you want to start at 1, you can create a helper like:</p>
<pre><code>can.stache.registerHelper('%indexNum', function(options){
  return options.scope.attr(&quot;%index&quot;)+1;
})
</code></pre>
<p>And use it like:</p>
<pre><code>{{#each task}}
  &lt;li&gt;{{%indexNum}} {{name}}&lt;/li&gt;
{{/each}}
</code></pre>
<h3>%element</h3>
<p>In an event binding, <code>%element</code> references the DOM element the event happened on:</p>
<pre><code>&lt;input ($click)=&quot;doSomething(%element.value)&quot;/&gt;
</code></pre>
<h3>%event</h3>
<p>In an event binding, <code>%event</code> references the dispatched event object:</p>
<pre><code>&lt;input ($click)=&quot;doSomething(%event)/&gt;&quot;
</code></pre>
<h3>%viewModel</h3>
<p>In an event binding, <code>%viewModel</code> references the view model of the current element:</p>
<pre><code>&lt;my-component (closed)=&quot;doSomething(%viewModel)&quot;/&gt;
</code></pre>

		</section>
		
		

		

		
	
	
	</article>
	
	

</div>






	
	<footer>
		<nav class="container">
			<a class="brand" href="index.html"></a>
			<ul class='nav'>
				<li >
	              <a href="../index.html">Home</a>
	            </li>
		        <li><a href='../guides/index.html'>guides</a></li>
		        <li class='active'><a href='index.html'>api</a></li>
		        <li>
	              <a href="http://blog.bitovi.com/category/open-source/">Blog</a>
	            </li>
		        <li >
	              <a href="../download.html">Download</a>
	            </li>
            </ul>
		</nav>
	</footer>
	


    <script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-2302003-11']);
	  _gaq.push(['_setDomainName', 'canjs.com']);
	  _gaq.push(['_setAllowLinker', true]);
	  _gaq.push(['_trackPageview']);

	  (function() {
	  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>

	<script type="text/javascript">
		var docObject = {"type":"typedef","name":"can.stache.key","src":"view/stache/doc/key.md","description":"A named reference to a value in the [can.view.Scope scope] or  [can.view.Options helper scope] in a template.","title":"key","types":[{"type":"String","description":"A key specifies a value in the [can.view.Scope scope] or \n[can.view.Options options] of a template being rendered. The\nkey is used to look up a value in the scope.\n\nWhat the key looks like changes the behavior of how a value is looked up in \nthe scope. Keys can look like:\n\n - `{{name}}` - Single property name.\n - `{{name.first}}` - Multiple property names.\n - `{{foo\\\\.bar}}` - Single property name that includes a dot character.\n - `{{./name}}` - Single property in the current context.\n - `{{../name}}` - Single property in the parent context.\n - `{{.}}` or `{{this}}` - The current context.\n - `{{../.}}` - The parent context.\n - `{{@key}}` - Pass the value at key, even if it's a function or a compute.\n - `{{~key}}` - Pass a compute as the key's value instead of the value.\n - `{{*variable}}` - Reference a value in template scope.\n - `{{%key}}` - A special value that is added to scope. Examples:\n    - `{{%index}}` - The index of a value in an array or [can.List].\n    - `{{%key}}` - The property name of a value within an object or [can.Map].\n    - `{{%element}}` - The element an event was dispatched on.\n    - `{{%event}}` - The event object.\n    - `{{%viewModel}}` - The viewModel of the current element."}],"parent":"can.stache.types","comment":" ","ignoreTemplateRender":true,"templates":"/Users/daffl/Jupiter/sites/legacy-canjs.com/theme/templates","static":"/Users/daffl/Jupiter/sites/legacy-canjs.com/theme/static","versionsSelectText":"CanJS v<%= version %>","glob":{"ignore":["guides/*.md","guides/**/*.md","guides/*.js","guides/**/*.js","{node_modules,bower_components,dist}/**/*","lib/**/*","test/**/*","util/dojo/dojo.js","**/*_test.js","Gruntfile.js"],"pattern":"**/*.{md,js}","cwd":"/Users/daffl/Jupiter/sites/legacy-canjs.com/can"},"forceBuild":true,"dest":"/Users/daffl/Jupiter/sites/legacy-canjs.com/docs","generators":["html"],"urls":{"builderData":"https://bitbuilder.herokuapp.com/canjs","builder":"https://bitbuilder.herokuapp.com/can.custom.js","bithub":"http://bitovi.bithub.com/api/v1/events/","cdn":"//canjs.com/release/","github":"https://github.com/bitovi/canjs.com"},"versions":[{"branch":"major","number":"3.0-pre"},{"branch":"master","number":"2.3"},{"number":"2.2"},{"number":"2.1"},{"number":"1.1"}],"defaultDownloadVersion":"2.3.27","docConfigDest":"../documentjs.json","project":{"version":"2.3","name":"canjs","source":"git://github.com/canjs/canjs#2.3-legacy"}};
	</script>

	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript'
				data-main="static"
				data-config="./static/config.js"
				src="./static/steal.production.js"
		    		bundles-path="bundles"></script>
	

</body>

</html>
