<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>can.Map.delegate - CanJS API</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <link rel="stylesheet" type="text/css" 
    
      href='./static/production.css'
     />
  <!--[if lt IE 9]>
   <script type="text/javascript" src="../scripts/static/lib/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs">
  <header>
    <nav class="container">

      <div class="logo-menu">
        <a class="brand canjs" href="../index.html">CanJS</a>
        <ul class="dropdown-menu">
          <li><a href="http://javascriptmvc.com">JavaScriptMVC</a></li>
          <li class="active"><a href="../index.html">CanJS</a></li>
          <li><a href="http://jquerypp.com">jQuery++</a></li>
          <li><a href="http://javascriptmvc.com/docs.html#!stealjs">StealJS</a></li>
          <li><a href="http://javascriptmvc.com/docs.html#!FuncUnit">FuncUnit</a></li>
          <li><a href="http://javascriptmvc.com/docs.html#!DocumentJS">DocumentJS</a></li>
        </ul>
      </div>
      <ul class="nav">
        <li class=""><a href="../index.html">Home</a></li>
        <li class=""><a href="../guides/index.html">Guides</a></li>
        <li class="active"><a href="../docs/index.html">Api</a></li>
        <li class=" community-menu">
          <a href="../community.html#!forums">Community</a>
          <ul class="dropdown-menu">
            <li><a href="https://forum.javascriptmvc.com/canjs">Forums</a></li>
            <li><a href="http://webchat.freenode.net/?channels=canjs">IRC</a></li>
            <li><a href="http://bithub.com/canjs/app/">Apps</a></li>
            <li><a href="http://bithub.com/canjs/plugin/">Plugins</a></li>
            <li><a href="http://bithub.com/canjs/article/">Articles</a></li>
            <li><a href="http://github.com/bitovi/canjs">Github</a></li>
            <li><a href="http://twitter.com/canjs">Twitter</a></li>
          </ul>
        </li>
        <li class=""><a href="../download.html">Download</a></li>
      </ul>
      <div class="pull-right">
        <div class="bitovi-menu">
          <a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
          <ul class="dropdown-menu">
            <li><a href="http://bitovi.com">Bitovi.com</a></li>
            <li><a href="http://bitovi.com/blog/">Blog</a></li>
            <li><a href="http://bitovi.com/consulting/">Consulting</a></li>
            <li><a href="http://bitovi.com/training/">Training</a></li>
            <li><a href="http://bitovi.com/open-source/">Open Source</a></li>
            <li><a href="http://bitovi.com/people/">People</a></li>
            <li><a href="http://bitovi.com/contact/">Contact Us</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <div class="container api">
	<nav class="sidebar">
		
		<div class="search-wrapper">
			<div class="search">
				<input type="text"/>
			</div>
		</div>
		
		<ul class="api">
	<!-- First Level -->
	
	   <li class="search-container">
	   		<a href="can.Component.html" data-search="can.Component">
				can.Component
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Construct.html" data-search="can.Construct">
				can.Construct
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Control.html" data-search="can.Control">
				can.Control
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.EJS.html" data-search="can.EJS">
				can.EJS
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.List.html" data-search="can.List">
				can.List
			</a>
			
	   </li>
	
	   <li class="search-container active">
	   		<a href="can.Map.html" data-search="can.Map">
				can.Map
			</a>
			
				
	<ul class="primary-grouping">
		
			
				
					
					<li class="heading search-container">
						<span>prototype</span>
						
	<ul >
		
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.prototype.attr.html" 
							data-search="attr">
							attr
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.prototype.bind.html" 
							data-search="bind">
							bind
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.prototype.compute.html" 
							data-search="compute">
							compute
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.prototype.each.html" 
							data-search="each">
							each
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.prototype.removeAttr.html" 
							data-search="removeAttr">
							removeAttr
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.prototype.serialize.html" 
							data-search="serialize">
							serialize
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.prototype.unbind.html" 
							data-search="unbind">
							unbind
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>static</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.keys.html" 
							data-search="keys">
							keys
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>plugins</span>
						
	<ul >
		
			
				
				
					<li class="search-container parent ">
						<a 	class="page" 
							href="can.Map.attributes.html" 
							data-search="attributes">
							attributes
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container parent ">
						<a 	class="page" 
							href="can.Map.backup.html" 
							data-search="backup">
							backup
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container active parent expanded">
						<a 	class="page" 
							href="can.Map.delegate.html" 
							data-search="delegate">
							delegate
						</a>
						
							
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.prototype.delegate.html" 
							data-search="delegate">
							delegate
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.Map.prototype.undelegate.html" 
							data-search="undelegate">
							undelegate
						</a>
						
					</li>
				
			
			
		
	</ul>

						
					</li>
				
			
			
		
			
				
				
					<li class="search-container parent ">
						<a 	class="page" 
							href="can.Map.setter.html" 
							data-search="setter">
							setter
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container parent ">
						<a 	class="page" 
							href="can.Map.validations.html" 
							data-search="validations">
							validations
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
	</ul>

			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Model.html" data-search="can.Model">
				can.Model
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Model.List.html" data-search="can.Model.List">
				can.Model.List
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Mustache.html" data-search="can.Mustache">
				can.Mustache
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.compute.html" data-search="can.compute">
				can.compute
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.fixture.html" data-search="can.fixture">
				can.fixture
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.route.html" data-search="can.route">
				can.route
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.util.html" data-search="can.util">
				can.util
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.view.html" data-search="can.view">
				can.view
			</a>
			
	   </li>
	
</ul>
	</nav>
	<article class="content docs">
		<section class="title">
			<div class="heading">
<h1>delegate</h1>
	<ul class="tags">
		<li>page</li>
	</ul>
	
	
	
	
	<span class="module">can/map/delegate</span>
</div>

<div class="sub-heading">
	
	<span class="inherits">&nbsp;</span>
</div>

<ul class="links">
	
		<li><a href="https://github.com/bitovi/canjs/tree/v2.0.0/map/delegate/delegate.md">source</a></li>
	
	
		
		<li><a href="http://bitbuilder.herokuapp.com/can.custom.js?plugins=can/map/delegate">download</a></li>
		
	
	
		<li><a href="../can/map/delegate/test.html">tests</a></li>
	
</ul>
<br />
		</section>

		<section class="contents">
		</section>

		<section class="description">
			<p>The <strong>delegate</strong> plugin allows you to listen to more specific event changes on 
<a href="can.Map.html">Observes</a>.  It allows you to specify:</p>
		</section>

		

		
		
		
		

		
		<section class="comment">
			<ul>
<li>the <strong>attribute</strong> or <strong>attributes</strong> - that you want to listen to and optionally the <strong>value</strong> you want it to match</li>
<li>the <strong>type</strong> of event (add,set,remove,change)</li>
</ul>

<p>Listen to specific event changes with 
<code><a href="can.Map.prototype.delegate.html">delegate</a>(selector, event, handler(ev,newVal,oldVal,from))</code> :</p>

<pre><code>// create an observable
var observe = new can.Map({
  name : {
    first : "Justin Meyer"
  }
})
  var handler;
//listen to changes on a property
observe.delegate("name.first","set", 
  handler = function(ev, newVal, oldVal, prop){

  console.log(this)   //-&gt; "Justin"
  console.log(ev.currentTarget) //-&gt; observe
  console.log(newVal) //-&gt; "Justin"
  console.log(oldVal) //-&gt; "Justin Meyer"
  console.log(prop)   //-&gt; "name.first"
});

// change the property
observe.attr('name.first',"Justin")
</code></pre>

<h2>Types of events</h2>

<p>Delegate lets you listen to add, set, remove, and change events on property.</p>

<p><strong>add</strong></p>

<p>An add event is fired when a new property has been added.</p>

<pre><code>var o = new can.Map({});
o.delegate("name","add", function(ev, value){
  // will be called once
  can.$('#name').show()
})
o.attr('name',"Justin")
o.attr('name',"Brian");
</code></pre>

<p>Listening to add events is useful for 'setup' functionality (in this case
showing the <code>#name</code> element.</p>

<p><strong>set</strong></p>

<p>Set events are fired when a property takes on a new value.  set events are
always fired after an add.</p>

<pre><code>o.delegate("name","set", function(ev, value){
  // will be called twice
  can.$('#name').text(value)
})
o.attr('name',"Justin")
o.attr('name',"Brian");
</code></pre>

<p><strong>remove</strong></p>

<p>Remove events are fired after a property is removed.</p>

<pre><code>o.delegate("name","remove", function(ev){
  // will be called once
  $('#name').text(value)
})
o.attr('name',"Justin");
o.removeAttr('name');
</code></pre>

<h2>Wildcards - matching multiple properties</h2>

<p>Sometimes, you want to know when any property within some part 
of an observe has changed. Delegate lets you use wildcards to 
match any property name.  The following listens for any change
on an attribute of the params attribute:</p>

<pre><code>var o = new can.Map({
  options : {
    limit : 100,
    offset: 0,
    params : {
      parentId: 5
    }
  }
})
o.delegate('options.*','change', function(){
  alert('1');
})
o.delegate('options.**','change', function(){
  alert('2');
})

// alerts 1
// alerts 2
o.attr('options.offset',100)

// alerts 2
o.attr('options.params.parentId',6);
</code></pre>

<p>Using a single wildcard (<code><em></code>) matches single level
properties.  Using a double wildcard (<code></em>*</code>) matches
any deep property.</p>

<h2>Listening on multiple properties and values</h2>

<p>Delegate lets you listen on multiple values at once.  The following listens
for first and last name changes:</p>

<pre><code>var o = new can.Map({
  name : {first: "Justin", last: "Meyer"}
})

o.bind("name.first,name.last", 
       "set",
       function(ev,newVal,oldVal,from){

})
</code></pre>

<h2>Listening when properties are a particular value</h2>

<p>Delegate lets you listen when a property is <strong>set</strong> to a specific value:</p>

<pre><code>var o = new can.Map({
  name : "Justin"
})

o.bind("name=Brian", 
       "set",
       function(ev,newVal,oldVal,from){

})
</code></pre>

<h2>Stop listening to events</h2>

<p>Delegate will listen on the object until you 
call <code><a href="can.Map.prototype.undelegate.html">undelegate</a>(selector, event, handler)</code> to remove the event handler.</p>

<pre><code>o.undelegate("name.first","set", handler );
</code></pre>
		</section>
		

		
	</article>
</div>

<script type="text/javascript">
	var docData = {"type":"page","name":"can.Map.delegate","description":"<p>The <strong>delegate</strong> plugin allows you to listen to more specific event changes on \n[can.Map Observes].  It allows you to specify:</p>","title":"delegate","parent":"can.Map.plugins","plugin":"can/map/delegate","test":"can/map/delegate/test.html","src":"can/map/delegate/delegate.md","id":30,"children":[{"type":"function","name":"can.Map.prototype.delegate","parent":"can.Map.delegate","description":"","title":"delegate","plugin":"can/map/delegate","signatures":[{"code":"observe.delegate( selector, event, handler )","description":"<p><code>delegate( selector, event, handler(ev,newVal,oldVal,from) )</code> listen for changes \nin a child attribute from the parent. The child attribute\ndoes not have to exist.</p>\n\n<pre><code>// create an observable\nvar observe = new can.Map({\n  foo : {\n    bar : \"Hello World\"\n  }\n})\n\n//listen to changes on a property\nobserve.delegate(\"foo.bar\",\"change\", function(ev, prop, how, newVal, oldVal){\n  // foo.bar has been added, set, or removed\n  this //-&gt; \n});\n\n// change the property\nobserve.attr('foo.bar',\"Goodbye Cruel World\")\n</code></pre>\n\n<h2>Types of events</h2>\n\n<p>Delegate lets you listen to add, set, remove, and change events on property.</p>\n\n<p><strong>add</strong></p>\n\n<p>An add event is fired when a new property has been added.</p>\n\n<pre><code>var o = new can.Control({});\no.delegate(\"name\",\"add\", function(ev, value){\n  // called once\n  can.$('#name').show()\n})\no.attr('name',\"Justin\")\no.attr('name',\"Brian\");\n</code></pre>\n\n<p>Listening to add events is useful for 'setup' functionality (in this case\nshowing the <code>#name</code> element.</p>\n\n<p><strong>set</strong></p>\n\n<p>Set events are fired when a property takes on a new value.  set events are\nalways fired after an add.</p>\n\n<pre><code>o.delegate(\"name\",\"set\", function(ev, value){\n  // called twice\n  can.$('#name').text(value)\n})\no.attr('name',\"Justin\")\no.attr('name',\"Brian\");\n</code></pre>\n\n<p><strong>remove</strong></p>\n\n<p>Remove events are fired after a property is removed.</p>\n\n<pre><code>o.delegate(\"name\",\"remove\", function(ev){\n  // called once\n  $('#name').text(value)\n})\no.attr('name',\"Justin\");\no.removeAttr('name');\n</code></pre>\n\n<h2>Wildcards - matching multiple properties</h2>\n\n<p>Sometimes, you want to know when any property within some part \nof an observe has changed. Delegate lets you use wildcards to \nmatch any property name.  The following listens for any change\non an attribute of the params attribute:</p>\n\n<pre><code>var o = can.Control({\n  options : {\n    limit : 100,\n    offset: 0,\n    params : {\n      parentId: 5\n    }\n  }\n})\no.delegate('options.*','change', function(){\n  alert('1');\n})\no.delegate('options.**','change', function(){\n  alert('2');\n})\n\n// alerts 1\n// alerts 2\no.attr('options.offset',100)\n\n// alerts 2\no.attr('options.params.parentId',6);\n</code></pre>\n\n<p>Using a single wildcard (<code><em></code>) matches single level\nproperties.  Using a double wildcard (<code></em>*</code>) matches\nany deep property.</p>\n\n<h2>Listening on multiple properties and values</h2>\n\n<p>Delegate lets you listen on multiple values at once.  The following listens\nfor first and last name changes:</p>\n\n<pre><code>var o = new can.Map({\n  name : {first: \"Justin\", last: \"Meyer\"}\n})\n\no.bind(\"name.first,name.last\", \n       \"set\",\n       function(ev,newVal,oldVal,from){\n\n})\n</code></pre>\n\n<h2>Listening when properties are a particular value</h2>\n\n<p>Delegate lets you listen when a property is <strong>set</strong> to a specific value:</p>\n\n<pre><code>var o = new can.Map({\n  name : \"Justin\"\n})\n\no.bind(\"name=Brian\", \n       \"set\",\n       function(ev,newVal,oldVal,from){\n\n})\n</code></pre>","params":[{"types":[{"type":"String"}],"name":"selector","description":"<p>The attributes you want to listen for changes in.</p>\n\n<p>Selector should be the property or \n  property names of the element you are searching.  Examples:</p>\n\n<pre><code>\"name\" - listens to the \"name\" property changing\n\"name, address\" - listens to \"name\" or \"address\" changing\n\"name address\" - listens to \"name\" or \"address\" changing\n\"address.*\" - listens to property directly in address\n\"address.**\" - listens to any property change in address\n\"foo=bar\" - listens when foo is \"bar\"\n</code></pre>"},{"types":[{"type":"String"}],"name":"event","description":"<p>The event name.  One of (\"set\",\"add\",\"remove\",\"change\")</p>"},{"types":[{"type":"function","returns":{"types":[{"type":"undefined"}]},"params":[{"name":"ev"},{"name":"newVal"},{"name":"oldVal"},{"name":"prop"}]}],"name":"handler","description":"<p>The callback handler \ncalled with:</p>\n\n<ul>\n<li>newVal - the new value set on the observe</li>\n<li>oldVal - the old value set on the observe</li>\n<li>prop - the prop name that was changed</li>\n</ul>"}],"returns":{"types":[{"type":"can.Map"}],"description":"<p>the observe for chaining</p>"}}],"src":"can/map/delegate/delegate.js","line":133,"id":155},{"type":"function","name":"can.Map.prototype.undelegate","parent":"can.Map.delegate","description":"","title":"undelegate","plugin":"can/map/delegate","signatures":[{"code":"observe.undelegate( selector, event, handler )","description":"<p><code>undelegate( selector, event, handler )</code> removes a delegated event handler from an observe.</p>\n\n<pre><code>observe.undelegate(\"name\",\"set\", handler )\n</code></pre>","params":[{"types":[{"type":"String"}],"name":"selector","description":"<p>the attribute name of the object you want to undelegate from.</p>"},{"types":[{"type":"String"}],"name":"event","description":"<p>the event name</p>"},{"types":[{"type":"function","returns":{"types":[{"type":"undefined"}]},"params":[]}],"name":"handler","description":"<p>the callback handler</p>"}],"returns":{"types":[{"type":"can.Map"}],"description":"<p>the observe for chaining</p>"}}],"src":"can/map/delegate/delegate.js","line":328,"id":156}]};

	console.log(docData);
</script>



  <footer>
    <nav class="container">
      <a class="brand javascriptmvc" href="index.html"></a>
      <ul class="nav">
        <li class=""><a href="../index.html">Home</a></li>
        <li class=""><a href="../guides/index.html">Guides</a></li>
        <li class="active"><a href="../docs/index.html">Api</a></li>
        <li class=""><a href="../community.html#!forums">Community</a></li>
        <li class=""><a href="../download.html">Download</a></li>
      </ul>
    </nav>
  </footer>
  <script type="text/javascript">
    window.Bitovi = {
      URL: {
        BUILDER: 'http://bitbuilder.herokuapp.com/can.custom.js',
        BUILDER_DATA: 'http://bitbuilder.herokuapp.com/canjs',
        BITHUB: 'http://api.bithub.com/api/events/',
        CDN: '//canjs.com/release/'
      }
    }
    steal = {
      productionId: "production.js",
      executed: ["documentjs/site/static/build/production.css"]
    }
  </script>
  <script 
  
    src="./static/steal.production.js"
  
    ></script>
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2302003-11']);
  _gaq.push(['_setDomainName', 'canjs.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  </script>
</body>

</html>
