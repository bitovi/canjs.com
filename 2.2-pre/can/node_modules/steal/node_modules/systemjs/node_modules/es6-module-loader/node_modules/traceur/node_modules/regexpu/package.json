{
  "name": "regexpu",
  "version": "0.2.1",
  "description": "A source code transpiler that enables the use of ES6 Unicode regular expressions in ES5.",
  "homepage": "https://mths.be/regexpu",
  "main": "regexpu.js",
  "bin": {
    "regexpu": "bin/regexpu"
  },
  "keywords": [
    "codegen",
    "desugaring",
    "ecmascript",
    "es5",
    "es6",
    "harmony",
    "javascript",
    "refactoring",
    "regex",
    "regexp",
    "regular expressions",
    "rewriting",
    "syntax",
    "transformation",
    "transpile",
    "transpiler",
    "unicode"
  ],
  "license": "MIT",
  "author": {
    "name": "Mathias Bynens",
    "url": "https://mathiasbynens.be/"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/mathiasbynens/regexpu.git"
  },
  "bugs": {
    "url": "https://github.com/mathiasbynens/regexpu/issues"
  },
  "files": [
    "LICENSE-MIT.txt",
    "regexpu.js",
    "rewrite-pattern.js",
    "transform-tree.js",
    "transpile-code.js",
    "data/character-class-escape-sets.js",
    "data/iu-mappings.json",
    "bin/",
    "man/"
  ],
  "directories": {
    "bin": "bin",
    "man": "man"
  },
  "scripts": {
    "build": "node scripts/iu-mappings.js && node scripts/character-class-escape-sets.js",
    "test": "mocha tests",
    "coverage": "istanbul cover --report html node_modules/.bin/_mocha tests/tests.js -- -u exports -R spec"
  },
  "dependencies": {
    "esprima": "git+https://github.com/mathiasbynens/esprima-es6-regexp.git",
    "recast": "^0.7.0",
    "regenerate": "^0.6.4",
    "regjsgen": "^0.2.0",
    "regjsparser": "^0.1.2"
  },
  "devDependencies": {
    "coveralls": "^2.11.1",
    "istanbul": "^0.3.0",
    "jsesc": "^0.5.0",
    "lodash": "^2.4.1",
    "mocha": "^1.21.4",
    "unicode-7.0.0": "^0.1.5"
  },
  "man": [
    "/Users/mathias/.npm/regexpu/0.2.1/package/man/regexpu.1"
  ],
  "_id": "regexpu@0.2.1",
  "_shasum": "d91d8aaf33e037e78ea0c80fb679314fea500a5f",
  "_from": "regexpu@0.2.1",
  "_npmVersion": "1.4.9",
  "_npmUser": {
    "name": "mathias",
    "email": "mathias@qiwi.be"
  },
  "maintainers": [
    {
      "name": "mathias",
      "email": "mathias@qiwi.be"
    }
  ],
  "dist": {
    "shasum": "d91d8aaf33e037e78ea0c80fb679314fea500a5f",
    "tarball": "http://registry.npmjs.org/regexpu/-/regexpu-0.2.1.tgz"
  },
  "_resolved": "https://registry.npmjs.org/regexpu/-/regexpu-0.2.1.tgz",
  "readme": "# regexpu [![Build status](https://travis-ci.org/mathiasbynens/regexpu.svg?branch=master)](https://travis-ci.org/mathiasbynens/regexpu) [![Code coverage status](http://img.shields.io/coveralls/mathiasbynens/regexpu/master.svg)](https://coveralls.io/r/mathiasbynens/regexpu) [![Dependency status](https://gemnasium.com/mathiasbynens/regexpu.svg)](https://gemnasium.com/mathiasbynens/regexpu)\n\n_regexpu_ is a source code transpiler that enables the use of ES6 Unicode regular expressions in JavaScript-of-today (ES5). It rewrites regular expressions that make use of [the ES6 `u` flag](https://mathiasbynens.be/notes/es6-unicode-regex) into equivalent ES5-compatible regular expressions. [Hereâ€™s an online demo.](https://mothereff.in/regexpu)\n\n## Example\n\nConsider a file named `example-es6.js` with the following contents:\n\n```js\nvar string = 'fooðŸ’©bar';\nvar match = string.match(/foo(.)bar/u);\nconsole.log(match[1]);\n// â†’ 'ðŸ’©'\n\n// This regex matches any symbol from U+1F4A9 to U+1F4AB, and nothing else.\nvar regex = /[\\u{1F4A9}-\\u{1F4AB}]/u;\n// The following regex is equivalent.\nvar alternative = /[ðŸ’©-ðŸ’«]/u;\nconsole.log([\n  regex.test('a'),  // false\n  regex.test('ðŸ’©'), // true\n  regex.test('ðŸ’ª'), // true\n  regex.test('ðŸ’«'), // true\n  regex.test('ðŸ’¬')  // false\n]);\n```\n\nLetâ€™s transpile it:\n\n```bash\n$ regexpu -f example-es6.js > example-es5.js\n```\n\n`example-es5.js` can now be used in ES5 environments. Its contents are as follows:\n\n```js\nvar string = 'fooðŸ’©bar';\nvar match = string.match(/foo((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uDC00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]))bar/);\nconsole.log(match[1]);\n// â†’ 'ðŸ’©'\n\n// This regex matches any symbol from U+1F4A9 to U+1F4AB, and nothing else.\nvar regex = /(?:\\uD83D[\\uDCA9-\\uDCAB])/;\n// The following regex is equivalent.\nvar alternative = /(?:\\uD83D[\\uDCA9-\\uDCAB])/;\nconsole.log([\n  regex.test('a'),  // false\n  regex.test('ðŸ’©'), // true\n  regex.test('ðŸ’ª'), // true\n  regex.test('ðŸ’«'), // true\n  regex.test('ðŸ’¬')  // false\n]);\n```\n\n## Known limitations\n\n1. _regexpu_ only transpiles regular expression _literals_, so things like `RegExp('â€¦', 'u')` are not affected.\n2. _regexpu_ doesnâ€™t polyfill [the `RegExp.prototype.unicode` getter](https://mths.be/es6#sec-get-regexp.prototype.unicode) because itâ€™s not possible to do so without side effects.\n3. _regexpu_ doesnâ€™t support [canonicalizing the contents of back-references in regular expressions with both the `i` and `u` flag set](https://github.com/mathiasbynens/regexpu/issues/4), since that would require transpiling/wrapping strings.\n\n## Installation\n\nTo use _regexpu_ programmatically, install it as a dependency via [npm](http://npmjs.org/):\n\n```bash\nnpm install regexpu --save-dev\n```\n\nTo use the command-line interface, install _regexpu_ globally:\n\n```bash\nnpm install regexpu -g\n```\n\n## API\n\n### `regexpu.version`\n\nA string representing the semantic version number.\n\n### `regexpu.rewritePattern(pattern, flags)`\n\nThis function takes a string that represents a regular expression pattern as well as a string representing its flags, and returns an ES5-compatible version of the pattern.\n\n```js\nregexpu.rewritePattern('foo.bar', 'u');\n// â†’ 'foo(?:[\\\\0-\\\\t\\\\x0B\\\\f\\\\x0E-\\\\u2027\\\\u202A-\\\\uD7FF\\\\uDC00-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF])bar'\n\nregexpu.rewritePattern('[\\\\u{1D306}-\\\\u{1D308}a-z]', 'u');\n// â†’ '(?:[a-z]|\\\\uD834[\\\\uDF06-\\\\uDF08])'\n\nregexpu.rewritePattern('[\\\\u{1D306}-\\\\u{1D308}a-z]', 'ui');\n// â†’ '(?:[a-z\\\\u017F\\\\u212A]|\\\\uD834[\\\\uDF06-\\\\uDF08])'\n```\n\n_regexpu_ can rewrite non-ES6 regular expressions too, which is useful to demonstrate how their behavior changes once the `u` and `i` flags are added:\n\n```js\n// In ES5, the dot operator only matches BMP symbols:\nregexpu.rewritePattern('foo.bar');\n// â†’ 'foo(?:[\\\\0-\\\\t\\\\x0B\\\\f\\\\x0E-\\\\u2027\\\\u202A-\\\\uFFFF])bar'\n\n// But with the ES6 `u` flag, it matches astral symbols too:\nregexpu.rewritePattern('foo.bar', 'u');\n// â†’ 'foo(?:[\\\\0-\\\\t\\\\x0B\\\\f\\\\x0E-\\\\u2027\\\\u202A-\\\\uD7FF\\\\uDC00-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF])bar'\n```\n\n`regexpu.rewritePattern` uses [regjsgen](https://github.com/d10/regjsgen), [regjsparser](https://github.com/jviereck/regjsparser), and [regenerate](https://github.com/mathiasbynens/regenerate) as internal dependencies. If you only need this function in your program, itâ€™s better to include it directly:\n\n```js\nvar rewritePattern = require('regexpu/rewrite-pattern');\n```\n\nThis prevents the [Recast](https://github.com/benjamn/recast) and [Esprima](https://github.com/ariya/esprima) dependencies from being loaded into memory.\n\n### `regexpu.transformTree(ast)`\n\nThis function accepts an abstract syntax tree representing some JavaScript code, and returns a transformed version of the tree in which any regular expression literals that use the ES6 `u` flag are rewritten in ES5.\n\n```js\nvar regexpu = require('regexpu');\nvar recast = require('recast');\nvar tree = recast.parse(code); // ES6 code\ntree = regexpu.transform(tree);\nvar result = recast.print(tree);\nconsole.log(result.code); // transpiled ES5 code\nconsole.log(result.map); // source map\n```\n\n`regexpu.transformTree` uses [Recast](https://github.com/benjamn/recast), [regjsgen](https://github.com/d10/regjsgen), [regjsparser](https://github.com/jviereck/regjsparser), and [regenerate](https://github.com/mathiasbynens/regenerate) as internal dependencies. If you only need this function in your program, itâ€™s better to include it directly:\n\n```js\nvar transformTree = require('regexpu/transform-tree');\n```\n\nThis prevents the [Esprima](https://github.com/ariya/esprima) dependency from being loaded into memory.\n\n### `regexpu.transpileCode(code, options)`\n\nThis function accepts a string representing some JavaScript code, and returns a transpiled version of this code tree in which any regular expression literals that use the ES6 `u` flag are rewritten in ES5.\n\n```js\nvar es6 = 'console.log(/foo.bar/u.test(\"fooðŸ’©bar\"));';\nvar es5 = regexpu.transpileCode(es6);\n// â†’ 'console.log(/foo(?:[\\\\0-\\\\t\\\\x0B\\\\f\\\\x0E-\\\\u2027\\\\u202A-\\\\uD7FF\\\\uDC00-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF])bar/.test(\"fooðŸ’©bar\"));'\n```\n\nThe optional `options` object recognizes the following properties:\n\n* `sourceFileName`: a string representing the file name of the original ES6 source file.\n* `sourceMapName`: a string representing the desired file name of the source map.\n\nThese properties must be provided if you want to generate source maps.\n\n```js\nvar result = regexpu.transpileCode(code, {\n  'sourceFileName': 'es6.js',\n  'sourceMapName': 'es6.js.map',\n});\nconsole.log(result.code); // transpiled source code\nconsole.log(result.map); // source map\n```\n\n`regexpu.transpileCode` uses [Esprima](https://github.com/ariya/esprima), [Recast](https://github.com/benjamn/recast), [regjsgen](https://github.com/d10/regjsgen), [regjsparser](https://github.com/jviereck/regjsparser), and [regenerate](https://github.com/mathiasbynens/regenerate) as internal dependencies. If you only need this function in your program, feel free to include it directly:\n\n```js\nvar transpileCode = require('regexpu/transpile-code');\n```\n\n## Author\n\n| [![twitter/mathias](https://gravatar.com/avatar/24e08a9ea84deb17ae121074d0f17125?s=70)](https://twitter.com/mathias \"Follow @mathias on Twitter\") |\n|---|\n| [Mathias Bynens](https://mathiasbynens.be/) |\n\n## License\n\n_regexpu_ is available under the [MIT](https://mths.be/mit) license.\n",
  "readmeFilename": "README.md"
}
