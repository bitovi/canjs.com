<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>CanJS  - can.view.attr</title>
	<meta name="description" content="">
	<meta name="author" content="">

	
	<link rel="stylesheet" type="text/css" href="./static/bundles/static.css">
	
	<!--[if lt IE 9]>
   <script type="text/javascript" src="static/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs ">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand" href="../../index.html">CanJS</a>
				<ul class="dropdown-menu">
		          <li><a href="http://javascriptmvc.com">JavaScriptMVC</a></li>
		          <li><a href="http://canjs.com" class="active">CanJS</a></li>
		          <li><a href="http://jquerypp.com">jQuery++</a></li>
		          <li><a href="http://stealjs.com">StealJS</a></li>
		          <li><a href="http://funcunit.com">FuncUnit</a></li>
		          <li><a href="http://documentjs.com">DocumentJS</a></li>
		        </ul>
			</div>
			
			<ul class="nav">
		        <li >
	              <a href="../../index.html">Home</a>
                </li>
		       <li><a href='../guides/index.html'>guides</a></li>
		       <li class='active'><a href='index.html'>api</a></li>
		        <li class=" community-menu">
		          <a href="../../community.html#!forums">Community</a>
		          <ul class="dropdown-menu">
		            <li><a href="https://forum.javascriptmvc.com/canjs">Forums</a></li>
		            <li><a href="http://webchat.freenode.net/?channels=canjs">IRC</a></li>
		            <li><a href="http://bithub.com/canjs/app/">Apps</a></li>
		            <li><a href="http://bithub.com/canjs/plugin/">Plugins</a></li>
		            <li><a href="http://bithub.com/canjs/article/">Articles</a></li>
		            <li><a href="http://github.com/bitovi/canjs">Github</a></li>
		            <li><a href="http://twitter.com/canjs">Twitter</a></li>
		            <li><a href="http://bitovi.github.io/canjsmeetup/">Meetups</a></li>
		          </ul>
		        </li>
		        <li >
	              <a href="../../blog/index.html">Blog</a>
                </li>
		        <li >
	              <a href="../../download.html">Download</a>
                </li>
	      	</ul>
			
			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
			
		</nav>
	</header>

	
<div class="container api">

	
	<nav class="sidebar">
		
		<h2 id="version">
	<select id='versions'></select>
</h2>
<ul class="api">
	<!-- First Level -->
	
	   <li class="search-container">
	   		<a href="can.Component.html" data-search="can.Component">
				can.Component
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Construct.html" data-search="can.Construct">
				can.Construct
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Control.html" data-search="can.Control">
				can.Control
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.List.html" data-search="can.List">
				can.List
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Map.html" data-search="can.Map">
				can.Map
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Model.html" data-search="can.Model">
				can.Model
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.Model.List.html" data-search="can.Model.List">
				can.Model.List
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.compute.html" data-search="can.compute">
				can.compute
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.ejs.html" data-search="can.ejs">
				can.ejs
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.event.html" data-search="can.event">
				can.event
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.fixture.html" data-search="can.fixture">
				can.fixture
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.mustache.html" data-search="can.mustache">
				can.mustache
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.route.html" data-search="can.route">
				can.route
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.stache.html" data-search="can.stache">
				can.stache
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.util.html" data-search="can.util">
				can.util
			</a>
			
	   </li>
	
	   <li class="search-container active">
	   		<a href="can.view.html" data-search="can.view">
				can.view
			</a>
			
				
	<ul class="primary-grouping">
		
			
				
					
					<li class="heading search-container">
						<span>plugins</span>
						
	<ul >
		
			
				
				
					<li class="search-container parent ">
						<a 	class="page" 
							href="can.view.modifiers.html" 
							data-search="jQuery modifiers">
							jQuery modifiers
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
		
			
				
					
					<li class="heading search-container">
						<span>static</span>
						
	<ul >
		
			
				
				
					<li class="search-container  ">
						<a 	class="constructor" 
							href="can.view.Options.html" 
							data-search="can.view.Options">
							Options
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container parent ">
						<a 	class="constructor" 
							href="can.view.Scope.html" 
							data-search="can.view.Scope">
							Scope
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container active  expanded">
						<a 	class="function" 
							href="can.view.attr.html" 
							data-search="can.view.attr">
							attr
						</a>
						
							
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="property" 
							href="can.view.cache.html" 
							data-search="cache">
							cache
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.view.ejs.html" 
							data-search="ejs">
							ejs
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="property" 
							href="can.view.ext.html" 
							data-search="ext">
							ext
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.view.frag.html" 
							data-search="frag">
							frag
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.view.hook.html" 
							data-search="hook">
							hook
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container parent ">
						<a 	class="property" 
							href="can.view.live.html" 
							data-search="can.view.live">
							live
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.view.mustache.html" 
							data-search="mustache">
							mustache
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container parent ">
						<a 	class="property" 
							href="can.view.nodeLists.html" 
							data-search="can.view.nodeLists">
							nodeLists
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.view.register.html" 
							data-search="register">
							register
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.view.render.html" 
							data-search="render">
							render
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="function" 
							href="can.view.tag.html" 
							data-search="can.view.tag">
							tag
						</a>
						
					</li>
				
			
			
		
	</ul>

					</li>
					
				
				
			
			
		
			
		
			
				
				
					<li class="search-container parent ">
						<a 	class="property" 
							href="can.view.elements.html" 
							data-search="can.view.elements">
							elements
						</a>
						
					</li>
				
			
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
	</ul>

			
	   </li>
	
	   <li class="search-container">
	   		<a href="can.view.bindings.html" data-search="can.view.bindings">
				can.view.bindings
			</a>
			
	   </li>
	
</ul>
	</nav>
	
	
	
	<article class="content docs">
	
	
		
		<section class="title">
			<div class="heading">
<h1>attr</h1>
	<ul class="tags">
		<li>function</li>
	</ul>
	
	
</div>

<div class="sub-heading">
	
	
	<span class="inherits">&nbsp;</span>
</div>

<ul class="links">
    
	
		<li><a href="https://github.com/bitovi/canjs/tree/2.2-pre/view/doc/attr.md">source</a></li>
	
	
	
</ul>
<br />
		</section>
		
		
		
		<section class="contents">
		</section>
		
		
		

		
		<section class="description">
			<p>Register custom behavior for an attribute.</p>

		</section>
		

		
			
				<section class="signature">
					<h2 id="sig_can_view_attr_attributeName_attrHandler_el_attrData__">can.view.attr( attributeName, attrHandler(el, attrData) )
<span class="pull-right release">2.1</span></h2>
<div class="signature-wrapper">


	<h3>Parameters</h3>

	<ol class="parameters">
		
		<li class="parameter">
			<h4>attributeName
				<code>{String | RegExp}</code></h4>
			<div class="description">
				<p>A lower-case attribute name or regular expression
that matches attribute names. Examples: <code>&quot;my-fill&quot;</code> or <code>/my-\w/</code>.</p>

			</div>
			
			
			
			
			
		</li>
		
		<li class="parameter">
			<h4>attrHandler
				<code>{function(el, <a href="can.view.attrData.html" >attrData</a>)}</code></h4>
			<div class="description">
				<p>A function that adds custom behavior to <code>el</code>.</p>

			</div>
			
			
			
		</li>
		
	</ol>






</div>

				</section>
			
		
		
		
		

		
		<section class="comment">
			<p>Registers the <code>attrHandler</code> callback when <code>attributeName</code> is found
in a template.</p>
<h2>Use</h2>
<p><code>can.view.attr</code> is used to add custom behavior to elements that contain a
specified html attribute. Typically it is used to mixin behavior (whereas
<a href="can.view.tag.html">can.view.tag</a> is used to define behavior).</p>
<p>The following example adds a jQueryUI tooltip to any element that has
a <code>tooltip</code> attribute like <code>&lt;div tooltip=&quot;Click to edit&quot;&gt;Name&lt;/div&gt;</code>.</p>
<div class='demo_wrapper' data-demo-src='can/view/doc/tooltip.html'></div>
<h2>Listening to attribute changes</h2>
<p>In the previous example, the content of the tooltip was static. However,
it's likely that the tooltip's value might change. For instance, the template
might want to dynamically update the tooltip like:</p>
<pre><code>&lt;button tooltip=&quot;{{deleteTooltip}}&quot;&gt;
  Delete
&lt;/button&gt;
</code></pre>
<p>Where <code>deleteTooltip</code> changes depending on how many users are selected:</p>
<pre><code>deleteTooltip: function(){
  var selectedCount = selected.attr(&quot;length&quot;);
  if(selectedCount) {
    return &quot;Delete &quot;+selectedCount+&quot; users&quot;;
  } else {
    return &quot;Select users to delete them.&quot;;
  }
}
</code></pre>
<p>The <a href="can.events.attributes.html">attributes</a> event can be used to listen to when
the toolip attribute changes its value like:</p>
<pre><code>can.view.attr(&quot;tooltip&quot;, function( el, attrData ) {

  var updateTooltip = function(){
    $(el).tooltip({
      content: el.getAttribute(&quot;tooltip&quot;), 
      items: &quot;[tooltip]&quot;
    });
  };
  
  $(el).bind(&quot;attributes&quot;, function(ev){
    if(ev.attributeName === &quot;tooltip&quot;) {
      updateTooltip();
    }
  });
  
  updateTooltip();
        
})
</code></pre>
<p>To see this behavior in the following demo, hover the mouse over the &quot;Delete&quot; button.  Then
select some users and hover over the &quot;Delete&quot; button again:</p>
<div class='demo_wrapper' data-demo-src='can/view/doc/dynamic_tooltip.html'></div>
<h2>Reading values from the scope.</h2>
<p>It's common that attribute mixins need complex, observable data to
perform rich behavior. The attribute mixin is able to read
data from the element's <a href="can.view.Scope.html">scope</a>. For example,
<strong>toggle</strong> and <strong>fade-in-when</strong> will need the value of <code>showing</code> in:</p>
<pre><code>&lt;button toggle=&quot;showing&quot;&gt;
  {{#showing}}Show{{else}}Hide{{/showing}} more info&lt;/button&gt;
&lt;div fade-in-when=&quot;showing&quot;&gt;
  Here is more info!
&lt;/div&gt;
</code></pre>
<p>These values can be read from <a href="can.view.attrData.html">attrData</a>'s scope like:</p>
<pre><code>attrData.scope.attr(&quot;showing&quot;)
</code></pre>
<p>But often, you want to update scope value or listen when the scope value
changes. For example, the <strong>toggle</strong> mixin might want to update <code>showing</code>
and the <strong>fade-in-when</strong> mixin needs to know when
the <code>showing</code> changes.  Both of these can be achived by
using [can.view.Scope::compute compute] to get a get/set compute that is
tied to the value in the scope:</p>
<pre><code>var showing = attrData.scope.compute(&quot;showing&quot;)
</code></pre>
<p>This value can be written to by <code>toggle</code>:</p>
<pre><code>can.view.attr(&quot;toggle&quot;, function(el, attrData){

  var attrValue = el.getAttribute(&quot;toggle&quot;)
      toggleCompute = attrData.scope.compute(attrValue);

  $(el).click(function(){
    toggleCompute(! toggleCompute() )
  })

})
</code></pre>
<p>Or listened to by <code>fade-in-when</code>:</p>
<pre><code>can.view.attr(&quot;fade-in-when&quot;, function( el, attrData ) {
  var attrValue = el.getAttribute(&quot;fade-in-when&quot;);
      fadeInCompute = attrData.scope.compute(attrValue),
      handler = function(ev, newVal, oldVal){
        if(newVal &amp;&amp; !oldVal) {
          $(el).fadeIn(&quot;slow&quot;)
        } else if(!newVal){
          $(el).hide()
        }
      }

  fadeInCompute.bind(&quot;change&quot;,handler);

  ...
})
</code></pre>
<p>When you listen to something other than the attribute's element, remember to
unbind the event handler when the element is <a href="can.events.removed.html">removed</a> from the page:</p>
<pre><code>$(el).bind(&quot;remove&quot;, function(){
  fadeInCompute.unbind(handler);
});
</code></pre>
<div class='demo_wrapper' data-demo-src='can/view/doc/fade_in_when.html'></div>
<h2>When to call</h2>
<p><code>can.view.attr</code> must be called before a template is processed. When <a href="http://canjs.com/docs/can.view.html#sig_can_view_idOrUrl_">using <code>can.view</code> to create a renderer function</a>, <code>can.view.attr</code> must be called before the template is loaded, not simply before it is rendered.</p>
<pre><code>    //Call can.view.attr first
    can.view.attr('tooltip', tooltipFunction);
    //Preload a template for rendering
    var renderer = can.view('app-template');
    //No calls to can.view.attr after this will be used by `renderer`
</code></pre>

		</section>
		
		

		
	
	
	</article>
	
	

</div>





	
	
	<footer>
		<nav class="container">
			<a class="brand" href="index.html"></a>
			<ul class='nav'>
				<li >
	              <a href="../../index.html">Home</a>
	            </li>
		        <li><a href='../guides/index.html'>guides</a></li>
		        <li class='active'><a href='index.html'>api</a></li>
		        <li class="">
		          <a href="../../community.html#!forums">Community</a>
		        </li>
		        <li >
	              <a href="../../blog/index.html">Blog</a>
	            </li>
		        <li >
	              <a href="../../download.html">Download</a>
	            </li>
            </ul>
		</nav>
	</footer>
	

    
    <script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-2302003-11']);
	  _gaq.push(['_setDomainName', 'canjs.com']);
	  _gaq.push(['_setAllowLinker', true]);
	  _gaq.push(['_trackPageview']);
	
	  (function() {
	  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	
	</script>
	
	<script type="text/javascript">
		var docObject = {"type":"function","name":"can.view.attr","src":"view/doc/attr.md","description":"<p>Register custom behavior for an attribute.</p>\n","title":"","parent":"can.view.static","signatures":[{"code":"can.view.attr( attributeName, attrHandler(el, attrData) )","description":"","params":[{"types":[{"type":"String"},{"type":"RegExp"}],"name":"attributeName","description":"<p>A lower-case attribute name or regular expression\nthat matches attribute names. Examples: <code>&quot;my-fill&quot;</code> or <code>/my-\\w/</code>.</p>\n"},{"types":[{"type":"function","returns":{"types":[{"type":"undefined"}]},"params":[{"types":[{"type":"HTMLElement"}],"name":"el"},{"types":[{"type":"can.view.attrData"}],"name":"attrData"}]}],"name":"attrHandler","description":"<p>A function that adds custom behavior to <code>el</code>.</p>\n"}],"release":"2.1"}],"comment":" ","templates":"/Users/justin/dev/canjs.com/theme/templates","static":"/Users/justin/dev/canjs.com/theme/static","versionsSelectText":"CanJS v<%= version %>","glob":{"ignore":["guides/*.md","{node_modules,bower_components}/**/*"],"pattern":"**/*.{md,js}","cwd":"/Users/justin/dev/canjs"},"dest":"/Users/justin/dev/canjs.com/2.2-pre/docs","generators":["html"],"urls":{"builderData":"http://bitbuilder.herokuapp.com/canjs","builder":"http://bitbuilder.herokuapp.com/can.custom.js","bithub":"http://api.bithub.com/api/v1/events/","cdn":"//canjs.com/release/","github":"https://github.com/bitovi/canjs.com"},"versions":[{"branch":"master","number":"2.1"},{"number":"2.0"},{"number":"1.1"}],"defaultDownloadVersion":"2.1.4","docConfigDest":"../../documentjs.json","project":{"version":"2.2-pre","name":"canjs","source":"git://github.com/bitovi/canjs#2.2-pre"}};
	</script>
	
	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript' 
				data-main="static"
				data-config="./static/config.js"
				src="./static/steal.production.js"
		    		bundles-path="bundles"></script>
	
	
</body>

</html>