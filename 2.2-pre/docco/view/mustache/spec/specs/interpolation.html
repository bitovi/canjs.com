<!DOCTYPE html>

<html>
<head>
  <title>interpolation.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="comments.html">
                comments.js
              </a>
            
              
              <a class="source" href="delimiters.html">
                delimiters.js
              </a>
            
              
              <a class="source" href="interpolation.html">
                interpolation.js
              </a>
            
              
              <a class="source" href="inverted.html">
                inverted.js
              </a>
            
              
              <a class="source" href="partials.html">
                partials.js
              </a>
            
              
              <a class="source" href="sections.html">
                sections.js
              </a>
            
              
              <a class="source" href="spec.html">
                spec.js
              </a>
            
              
              <a class="source" href="specs.html">
                specs.js
              </a>
            
              
              <a class="source" href="~lambdas.html">
                ~lambdas.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>interpolation.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>steal(<span class="hljs-string">'./spec'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{ <span class="hljs-built_in">window</span>.MUSTACHE_SPECS.push({name:<span class="hljs-string">'interpolation'</span>, data: {<span class="hljs-string">"overview"</span>:<span class="hljs-string">"Interpolation tags are used to integrate dynamic content into the template.\n\nThe tag's content MUST be a non-whitespace character sequence NOT containing\nthe current closing delimiter.\n\nThis tag's content names the data to replaceÂ the tag.  A single period (`.`)\nindicates that the item currently sitting atop the context stack should be\nused; otherwise, name resolution is as follows:\n  1) Split the name on periods; the first part is the name to resolve, any\n  remaining parts should be retained.\n  2) Walk the context stack from top to bottom, finding the first context\n  that is a) a hash containing the name as a key OR b) an object responding\n  to a method with the given name.\n  3) If the context is a hash, the data is the value associated with the\n  name.\n  4) If the context is an object, the data is the value returned by the\n  method with the given name.\n  5) If any name parts were retained in step 1, each should be resolved\n  against a context stack containing only the result from the former\n  resolution.  If any part fails resolution, the result should be considered\n  falsey, and should interpolate as the empty string.\nData should be coerced into a string (and escaped, if appropriate) before\ninterpolation.\n\nThe Interpolation tags MUST NOT be treated as standalone.\n"</span>,<span class="hljs-string">"tests"</span>:[{<span class="hljs-string">"name"</span>:<span class="hljs-string">"No Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Mustache-free templates should render as-is."</span>,<span class="hljs-string">"data"</span>:{},<span class="hljs-string">"template"</span>:<span class="hljs-string">"Hello from {Mustache}!\n"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"Hello from {Mustache}!\n"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Basic Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Unadorned tags should interpolate content into the template."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"subject"</span>:<span class="hljs-string">"world"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"Hello, {{subject}}!\n"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"Hello, world!\n"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"HTML Escaping"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Basic interpolation should be HTML escaped."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"forbidden"</span>:<span class="hljs-string">"&amp; \" &lt; &gt;"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"These characters should be HTML escaped: {{forbidden}}\n"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"These characters should be HTML escaped: &amp;amp; &amp;quot; &amp;lt; &amp;gt;\n"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Triple Mustache"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Triple mustaches should interpolate without HTML escaping."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"forbidden"</span>:<span class="hljs-string">"&amp; \" &lt; &gt;"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"These characters should not be HTML escaped: {{{forbidden}}}\n"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"These characters should not be HTML escaped: &amp; \" &lt; &gt;\n"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Ampersand"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Ampersand should interpolate without HTML escaping."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"forbidden"</span>:<span class="hljs-string">"&amp; \" &lt; &gt;"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"These characters should not be HTML escaped: {{&amp;forbidden}}\n"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"These characters should not be HTML escaped: &amp; \" &lt; &gt;\n"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Basic Integer Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Integers should interpolate seamlessly."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"mph"</span>:<span class="hljs-number">85</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{mph}} miles an hour!\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"85 miles an hour!\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Triple Mustache Integer Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Integers should interpolate seamlessly."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"mph"</span>:<span class="hljs-number">85</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{{mph}}} miles an hour!\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"85 miles an hour!\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Ampersand Integer Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Integers should interpolate seamlessly."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"mph"</span>:<span class="hljs-number">85</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{&amp;mph}} miles an hour!\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"85 miles an hour!\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Basic Decimal Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Decimals should interpolate seamlessly with proper significance."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"power"</span>:<span class="hljs-number">1.21</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{power}} jiggawatts!\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"1.21 jiggawatts!\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Triple Mustache Decimal Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Decimals should interpolate seamlessly with proper significance."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"power"</span>:<span class="hljs-number">1.21</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{{power}}} jiggawatts!\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"1.21 jiggawatts!\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Ampersand Decimal Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Decimals should interpolate seamlessly with proper significance."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"power"</span>:<span class="hljs-number">1.21</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{&amp;power}} jiggawatts!\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"1.21 jiggawatts!\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Basic Context Miss Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Failed context lookups should default to empty strings."</span>,<span class="hljs-string">"data"</span>:{},<span class="hljs-string">"template"</span>:<span class="hljs-string">"I ({{cannot}}) be seen!"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"I () be seen!"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Triple Mustache Context Miss Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Failed context lookups should default to empty strings."</span>,<span class="hljs-string">"data"</span>:{},<span class="hljs-string">"template"</span>:<span class="hljs-string">"I ({{{cannot}}}) be seen!"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"I () be seen!"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Ampersand Context Miss Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Failed context lookups should default to empty strings."</span>,<span class="hljs-string">"data"</span>:{},<span class="hljs-string">"template"</span>:<span class="hljs-string">"I ({{&amp;cannot}}) be seen!"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"I () be seen!"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Dotted Names - Basic Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Dotted names should be considered a form of shorthand for sections."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"person"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Joe"</span>}},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{person.name}}\" == \"{{#person}}{{name}}{{/person}}\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"Joe\" == \"Joe\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Dotted Names - Triple Mustache Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Dotted names should be considered a form of shorthand for sections."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"person"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Joe"</span>}},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{{person.name}}}\" == \"{{#person}}{{{name}}}{{/person}}\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"Joe\" == \"Joe\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Dotted Names - Ampersand Interpolation"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Dotted names should be considered a form of shorthand for sections."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"person"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Joe"</span>}},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{&amp;person.name}}\" == \"{{#person}}{{&amp;name}}{{/person}}\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"Joe\" == \"Joe\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Dotted Names - Arbitrary Depth"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Dotted names should be functional to any level of nesting."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"a"</span>:{<span class="hljs-string">"b"</span>:{<span class="hljs-string">"c"</span>:{<span class="hljs-string">"d"</span>:{<span class="hljs-string">"e"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Phil"</span>}}}}}},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{a.b.c.d.e.name}}\" == \"Phil\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"Phil\" == \"Phil\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Dotted Names - Broken Chains"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Any falsey value prior to the last part of the name should yield ''."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"a"</span>:{}},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{a.b.c}}\" == \"\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"\" == \"\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Dotted Names - Broken Chain Resolution"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Each part of a dotted name should resolve only against its parent."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"a"</span>:{<span class="hljs-string">"b"</span>:{}},<span class="hljs-string">"c"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Jim"</span>}},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{a.b.c.name}}\" == \"\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"\" == \"\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Dotted Names - Initial Resolution"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"The first part of a dotted name should resolve as any other name."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"a"</span>:{<span class="hljs-string">"b"</span>:{<span class="hljs-string">"c"</span>:{<span class="hljs-string">"d"</span>:{<span class="hljs-string">"e"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Phil"</span>}}}}},<span class="hljs-string">"b"</span>:{<span class="hljs-string">"c"</span>:{<span class="hljs-string">"d"</span>:{<span class="hljs-string">"e"</span>:{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Wrong"</span>}}}}},<span class="hljs-string">"template"</span>:<span class="hljs-string">"\"{{#a}}{{b.c.d.e.name}}{{/a}}\" == \"Phil\""</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"\"Phil\" == \"Phil\""</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Interpolation - Surrounding Whitespace"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Interpolation should not alter surrounding whitespace."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"string"</span>:<span class="hljs-string">"---"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"| {{string}} |"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"| --- |"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Triple Mustache - Surrounding Whitespace"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Interpolation should not alter surrounding whitespace."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"string"</span>:<span class="hljs-string">"---"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"| {{{string}}} |"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"| --- |"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Ampersand - Surrounding Whitespace"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Interpolation should not alter surrounding whitespace."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"string"</span>:<span class="hljs-string">"---"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"| {{&amp;string}} |"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"| --- |"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Interpolation - Standalone"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Standalone interpolation should not alter surrounding whitespace."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"string"</span>:<span class="hljs-string">"---"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"  {{string}}\n"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"  ---\n"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Triple Mustache - Standalone"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Standalone interpolation should not alter surrounding whitespace."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"string"</span>:<span class="hljs-string">"---"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"  {{{string}}}\n"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"  ---\n"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Ampersand - Standalone"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Standalone interpolation should not alter surrounding whitespace."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"string"</span>:<span class="hljs-string">"---"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"  {{&amp;string}}\n"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"  ---\n"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Interpolation With Padding"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Superfluous in-tag whitespace should be ignored."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"string"</span>:<span class="hljs-string">"---"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"|{{ string }}|"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"|---|"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Triple Mustache With Padding"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Superfluous in-tag whitespace should be ignored."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"string"</span>:<span class="hljs-string">"---"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"|{{{ string }}}|"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"|---|"</span>},{<span class="hljs-string">"name"</span>:<span class="hljs-string">"Ampersand With Padding"</span>,<span class="hljs-string">"desc"</span>:<span class="hljs-string">"Superfluous in-tag whitespace should be ignored."</span>,<span class="hljs-string">"data"</span>:{<span class="hljs-string">"string"</span>:<span class="hljs-string">"---"</span>},<span class="hljs-string">"template"</span>:<span class="hljs-string">"|{{&amp; string }}|"</span>,<span class="hljs-string">"expected"</span>:<span class="hljs-string">"|---|"</span>}],<span class="hljs-string">"__ATTN__"</span>:<span class="hljs-string">"Do not edit this file; changes belong in the appropriate YAML file."</span>}});});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
