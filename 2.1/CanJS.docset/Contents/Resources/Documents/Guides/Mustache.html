<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Mustache</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <link rel="stylesheet" type="text/css" 
    
      href='./static/production.css'
     />
</head>

<body class="guides">

  <div class="container api">
	<article class="content docs" style="border: 1px solid #d5d5d5">
		<section class="title">
			<div class="heading">
<h1>Mustache</h1>
	<ul class="tags">
		<li>page</li>
	</ul>
	
	
	
		<span class="module">Mustache</span>
	
	
	
	
</div>

<div class="sub-heading">
	
	<span class="inherits">&nbsp;</span>
</div>

<br />
		</section>

		<section class="contents">
		</section>

		

		<section class="description">
			
		</section>

		

		
		
		
		

		
		<section class="comment">
			<p><a href="../docs/can.mustache.html">Mustache</a> is a logic-less templating languages
[which provide live binding when used with Observes. CanJS's Mustache
implementation supports both <a href="http://mustache.github.io/">normal Mustache templates</a> 
as well as the Handlebars extensions, allowing you to easily reuse
templates that you've already written.</p>

<p>Mustache templates are essentially straight HTML, except that they contain
special tags used for injecting your data into the HTML. The number of ways
you can inject data is limited by design for simplicity and maintainability,
but can be enhanced through the use of helpers.</p>

<p>Here's an example of a template that might render a list of Todos:</p>

<pre><code class="lang-javascript">&lt;script type="text/mustache" id="todosList">
{{#todos}}
&lt;li>{{description}}&lt;/li>
{{/todos}}
&lt;/script></code></pre>

<p>You can use <code>can.view</code> to render the template:</p>

<pre><code class="lang-javascript">Todo.findAll({}, function(todos) {
    document.getElementById('list')
        .appendChild(can.view('todoList', {todos: todos}));
});</code></pre>

<h2>Magic tags</h2>

<p>There are three kinds of magic tags used in Mustache:</p>

<ul>
<li><code>{{ }}</code> will HTML-escape the value enclosed inside the tags and write it to
the template.</li>
<li><code>{{{ }}}</code> will write the value enclosed inside the tags directly
to the template without escaping it.</li>
<li><code>{{! }}</code> is a comment that writes nothing to the template.</li>
</ul>

<h3>Variables</h3>

<p>Variable tags insert data into the template. They reference variables in the current
context.</p>

<p>This template:</p>

<pre><code class="lang-javascript">Name: {{name}}</code></pre>

<p>given this data:</p>

<pre><code class="lang-javascript">{name: 'Alice'}</code></pre>

<p>will render the following:</p>

<pre><code class="lang-javascript">Name: Alice</code></pre>

<h3>Sections</h3>

<p>Sections contain text blocks and are conditionally rendered based on the
variable enclosed in the opening tag. They also change the active context
inside them to that of the variable referenced in the opening tag.</p>

<p>For the following examples, we will assume the template is being populated with
this set of data:</p>

<pre><code class="lang-javascript">{
    name: 'Alice Liddell',
    nickname: '',
    friends: ['Bob', 'Eve'],
    enemies: []
}</code></pre>

<p>If the variable is <code>undefined</code>, <code>null</code>, <code>false</code>, <code>''</code>, or <code>[]</code>, it is considered
a falsey value and the section is not rendered at all. Neither of these sections
will render:</p>

<pre><code class="lang-javascript">{{#enemies}}
&lt;li>{{.}}&lt;/li>
{{/enemies}}</code></pre>

<pre><code class="lang-javascript">{{#nickname}}{{.}}{{/nickname}}</code></pre>

<p>If the variable is a non-empty array, the section will be rendered once for each
element in the array. If it is truthy but not an array, the section is rendered
once.</p>

<p>This template:</p>

<pre><code class="lang-javascript">&lt;h1>{{#name}}{{.}}{{/name}}&lt;/h1>
&lt;ul>
    {{#friends}}
    &lt;li>{{.}}&lt;/li>
    {{/friends}}
&lt;/ul></code></pre>

<p>will render like this:</p>

<pre><code class="lang-javascript">&lt;h1>Alice Liddell&lt;/h1>
&lt;ul>
    &lt;li>Bob&lt;/li>
    &lt;li>Eve&lt;/li>
&lt;/ul></code></pre>

<p>You can also make inverted sections that render if the variable referenced in the
opening tag is falsey:</p>

<pre><code class="lang-javascript">&lt;ul>
    {{#friends}}
    &lt;li>{{.}}&lt;/li>
    {{/friends}}
    {{^friends}}
    &lt;li>You have no friends.&lt;/li>
    {{/friends}}
&lt;/ul></code></pre>

<h3>Context</h3>

<p>When Mustache is resolving an object in a section, it sets the current context
to the object value for which it is iterating. (If the variable in the opening tag
of a section was not an array, it sets the context to the value of that variable.)
You can reference the current context as <code>.</code>.</p>

<p>Internally, Mustache keeps a stack of contexts as the template enters nested
sections and helpers. If a variable is not found in the current context, Mustache
will look for the the in each successive parent context until it resolves the
variable or runs out of parent contexts.</p>

<p>For example, with this data:</p>

<pre><code class="lang-javascript">{
    brothers: [{name: 'Bob'}, {name: 'David'}],
    sisters: [{name: 'Alice'}, {name: 'Eve'}]
}</code></pre>

<p>and this template:</p>

<pre><code class="lang-javascript">{{#brothers}}
    {{#sisters}}
        {{name}}
    {{/sisters}}
{{/brothers}}</code></pre>

<p>the rendered result will be:</p>

<pre><code class="lang-javascript">Alice
Eve
Alice
Eve</code></pre>

<p>Since there is no <code>sisters</code> variable in the context of the elements of the <code>brothers</code>
array, Mustache jumps up to the parent context and resolves <code>sisters</code> there.</p>

<h2>Helpers</h2>

<p>Mustache lets you register functions to be called from inside the template
called helpers. Since Mustache templates are logic-less, all of your view
logic will either be manipulated outside of the template or it will be inside
a helper.</p>

<p>To use a helper that is local to the template you're rendering, pass it as the
third argument to <code>can.view</code> in an object where the key is the name of the helper
and the value is the helper function:</p>

<pre><code class="lang-javascript">var fragment = can.view('todosList', {todos: todos}, {
    uppercase: function(str) {
        return str.toUppercase();
    }
});</code></pre>

<p>This might be used in a template like this:</p>

<pre><code class="lang-javascript">&lt;script type="text/mustache" id="todosList">
{{#todos}}
&lt;li>{{uppercase description}}&lt;/li>
{{/todos}}
&lt;/script></code></pre>

<p>If a property of an observe is passed to a helper function, the helper will
become a <a href="../docs/can.compute.html">can.compute</a>. As an example, if you had this template:</p>

<pre><code class="lang-javascript">&lt;script type="text/mustache" id="prefixedName">
&lt;div>{{addMs lastName}}&lt;/div>
&lt;/script></code></pre>

<p>And you ran this code:</p>

<pre><code class="lang-javascript">var name = new can.Observe({firstName: 'Alice', lastName: 'Liddell'});
document.getElementById('name')
    .appendChild(can.view('prefixedName', name, {
        addMs: function(lastName) {
            return 'Ms. ' + lastName;
        }
    }));
name.attr({firstName: 'Allison', lastName: 'Wonderland'});</code></pre>

<p>The contents of the &lt;div> would be <code>Ms. Wonderland</code>.</p>

<h3>Global helpers</h3>

<p>You can register global helpers using <a href="../docs/can.mustache.registerHelper.html">can.mustache.registerHelper</a>:</p>

<pre><code class="lang-javascript">can.mustache.registerHelper('i10n', function(str, options) {
    return (Globalize != undefined ? Globalize.localize(str) : str);
});</code></pre>

<h3>Data helpers</h3>

<p>You can use the <code>data</code> helper in Mustache to associate data to an element. This
helper will associate the current context (<code>.</code>) with a variable you pass to the
helper.</p>

<p>For example, this template:</p>

<pre><code class="lang-javascript">&lt;script type="text/mustache" id="nameDiv">
&lt;div id="person" {{data 'name'}}>{{firstName}} {{lastName}}&lt;/div>
&lt;/script></code></pre>

<p>lets you do this in code:</p>

<pre><code class="lang-javascript">document.body.appendChild(can.view('nameDiv', {
    firstName: 'Alice',
    lastName: 'Liddell'
}));

var obj = can.data(document.getElementById('person'), 'name');
obj; // { firstName: 'Alice', lastName: 'Liddell'}</code></pre>

<h2>Partials</h2>

<p>You can nest templates in other templates by using partials. Partials inherit
the context from which they are called. They are evaluated at render time, so you
should be careful to avoid infinite loops. To include a partial, put its URL or
ID inside <code>{{&gt; }}</code>.</p>

<p>With these templates:</p>

<pre><code class="lang-javascript">&lt;script type="text/mustache" id="names">
&lt;ul>
{{#names}}
    {{>user}}
{{/names}}
&lt;/ul>
&lt;/script>
&lt;script type="text/mustache" id="user">
&lt;li>{{firstName}} {{lastName}}&lt;/li>
&lt;/script></code></pre>

<p>the expanded template at render time would look similar to:</p>

<pre><code class="lang-javascript">&lt;ul>
{{#names}}
    &lt;li>{{firstName}} {{lastName}}&lt;/li>
{{/names}}
&lt;/ul></code></pre>
		</section>
		

		
	</article>
</div>

<script type="text/javascript">
	var docData = {"type":"page","name":"Mustache","description":"","title":"Mustache","parent":"Tutorial","order":5,"comment":" ","src":"can/guides/mustache.md","id":14};

	console.log(docData);
</script>



  <footer>
    <nav class="container">
      <a class="brand javascriptmvc" href="#"></a>
    </nav>
  </footer>
  <script type="text/javascript">
    window.docConfig = {"debug":false,"enableSearch":true,"parent":"guides","layout":"documentjs/site/templates/page.mustache","docs":"documentjs/site/templates/docs.mustache","root":"..","out":"2.1/docset/Contents/Resources/Documents/Guides","page":"guides","markdown":["can/guides","can/changelog.md","can/contributing.md","can/license.md"],"package":{"name":"CanJS","description":"MIT-licensed, client-side, JavaScript framework that makes building rich web applications easy.","version":"2.1.3","author":{"name":"Bitovi","email":"contact@bitovi.com","web":"http://bitovi.com/"},"homepage":"http://canjs.us/","repository":{"type":"git","url":"git@github.com:bitovi/canjs.git","github":"https://github.com/bitovi/canjs"},"devDependencies":{"grunt":"~0.4.0","grunt-string-replace":"~0.2.2","grunt-contrib-qunit":"~0.5.1","grunt-contrib-connect":"~0.3.0","bitovi-tools":"https://github.com/bitovi/bitovi-tools/tarball/master","steal":"https://github.com/bitovi/steal-build/tarball/master","grunt-contrib-uglify":"~0.2.1","grunt-contrib-clean":"~0.5.0","grunt-shell":"~0.5.0","grunt-release-steps":"~0.3.7","bower":"~1.3.8","grunt-contrib-jshint":"~0.8.0","grunt-jsbeautifier":"~0.2.6","grunt-docco2":"git://github.com/shcarrico/grunt-docco.git#e4de54886ed5c421b2e26e7a2aeba1f73e889733","grunt-plato":"~0.2.1"},"scripts":{"test":"grunt test","install":"node node_modules/bower/bin/bower install"},"demos":["http://canjs.us/#examples","http://canjs.us/recipes"],"licenses":[{"type":"MIT","url":"http://opensource.org/licenses/mit-license.php"}],"dependencies":{"grunt-cli":"~0.1.7"}},"self":{"name":"canjs.com","description":"We can do JS better.","version":"0.2.0","homepage":"http://canjs.com","author":{"name":"Bitovi","url":"http://bitovi.com/"},"repository":{"type":"git","url":"git://github.com/bitovi/canjs.com.git","github":"https://github.com/bitovi/canjs.com"},"bugs":{"url":"https://github.com/bitovi/canjs.com/issues"},"licenses":[{"type":"MIT","url":"https://github.com/bitovi/canjs.com/blob/master/LICENSE-MIT"}],"engines":{"node":">= 0.10.0"},"devDependencies":{"grunt":"~0.4.1","grunt-contrib-watch":"~0.3.1","grunt-contrib-less":"~0.5.0","documentjs":"https://github.com/bitovi/documentjs/tarball/node-generator","grunt-contrib-clean":"~0.4.1","grunt-docco2":"git://github.com/shcarrico/grunt-docco.git#options-passing","grunt-plato":"~0.2.1","grunt-jsbeautifier":"~0.2.6","grunt-shell":"~0.6.4","sqlite3":"~2.2.3","q":"~1.0.1"}},"builder":{"filename":"can.custom.js","banner":"/*!\n * <%= pkg.title || pkg.name %> - <%= pkg.version %>\n * <%= pkg.homepage %>\n * Copyright (c) <%= new Date().getFullYear() %> <%= pkg.author.name %>\n * <%= new Date().toUTCString() %>\n * Licensed <%= pkg.licenses[0].type %><% if(typeof url !== \"undefined\") { %>\n * Includes: <%= ids %>\n * Download from: <%= url %>\n<% } %> */\n","modules":{"can/component":{"name":"can.Component","description":"Custom elements and widgets","type":"core","isDefault":true},"can/construct":{"name":"can.Construct","description":"Inheritable constructor functions","type":"core","isDefault":true},"can/map":{"name":"can.Map","description":"Observables and key-value bindings","type":"core","isDefault":true},"can/list":{"name":"can.List","description":"Observables lists","type":"core","isDefault":true},"can/list/promise":{"name":"can.List.promise","description":"Promises on lists","type":"plugin"},"can/observe":{"name":"can.Observe","description":"Observables and key-value bindings","type":"core","isDefault":true,"hidden":true},"can/compute":{"name":"can.compute","description":"can.compute lets you make observable values","type":"core","isDefault":true},"can/model":{"name":"can.Model","description":"Observes connected to a RESTful JSON interface","type":"core","isDefault":true},"can/view":{"name":"can.view","description":"Template loading, caching, rendering","type":"core","isDefault":true},"can/view/ejs":{"name":"can.ejs","description":"Live-binding Embedded JavaScript","type":"plugin"},"can/view/stache":{"name":"can.stache","description":"High performance Mustache templates","type":"plugin"},"can/control":{"name":"can.Control","description":"Declarative event bindings","type":"core","isDefault":true},"can/route":{"name":"can.route","description":"Back button and bookmarking support","type":"core","isDefault":true},"can/control/route":{"name":"can.Control.route","description":"Declare routes in your Control","type":"core","isDefault":true},"can/view/mustache":{"name":"can.mustache","description":"Live-binding Handlebars and Mustache views","type":"core","isDefault":true},"can/route/pushstate":{"name":"can.route.pushstate","description":"can.route with pushstate","type":"plugin"},"can/model/queue":{"name":"can.Model.Queue","type":"plugin","description":"Queued requests to the server."},"can/construct/super":{"name":"can.Construct.super","type":"plugin","description":"Call super methods"},"can/construct/proxy":{"name":"can.Construct.proxy","type":"plugin","description":"Proxy construct methods"},"can/map/lazy":{"name":"can.Map.Lazy","type":"plugin","description":"Lazy initializing maps and lists"},"can/map/delegate":{"name":"can.Map.delegate","type":"plugin","description":"Listen to Observe attributes"},"can/map/setter":{"name":"can.Map.setter","type":"plugin","description":"Use setter methods on can.Map"},"can/map/attributes":{"name":"can.Map.attributes","type":"plugin","deprecated":true,"description":"Define Observe attributes"},"can/map/validations":{"name":"can.Map.validations","type":"plugin","description":"Validate Observe attributes"},"can/map/backup":{"name":"can.Map.backup","type":"plugin","description":"Backup and restore an Observes state"},"can/map/list":{"name":"can.Map.List","type":"plugin","description":"Live-updating mapped and filtered observe lists"},"can/map/define":{"name":"can.Map.define","type":"plugin","description":"Define rich attribute behavior"},"can/map/sort":{"name":"can.List.Sort","type":"plugin","description":"Sort observable lists"},"can/control/plugin":{"name":"can.Control.plugin","type":"plugin","description":"Registers a jQuery plugin function for Controls","configurations":["jquery","jquery-2"]},"can/view/modifiers":{"name":"can.view.modifiers","type":"plugin","description":"Use jQuery modifiers to render views","configurations":["jquery","jquery-2"]},"can/util/object":{"name":"can.Object","type":"plugin","description":"Helper methods for object comparison"},"can/util/fixture":{"name":"can.fixture","type":"plugin","description":"Intercepts an AJAX request and simulates the response with a file or function"},"can/view/bindings":{"name":"can.view.bindings","type":"core","isDefault":true,"hidden":true},"can/view/live":{"name":"can.view.live","type":"core","isDefault":true,"hidden":true},"can/view/scope":{"name":"can.view.Scope","type":"core","isDefault":true,"hidden":true},"can/util/string":{"name":"can.util.string","type":"core","isDefault":true,"hidden":true},"can/util/attr":{"name":"can.util.attr","type":"core","isDefault":true,"hidden":true}},"types":{"core":"CanJS core","plugin":"Plugins"},"pluginify":{"shim":{"can/lib/jquery.2.0.3.js":"jQuery","can/lib/jquery.1.10.2.js":"jQuery","can/bower_components/zepto/zepto.js":"Zepto","can/lib/mootools-core-1.4.5.js":"{}","can/util/dojo/dojo-1.8.1.js":"{}","can/lib/yui-3.7.3.js":"YUI"},"exports":{"can/util/can.js":"can"}},"configurations":{"jquery":{"description":"jQuery","isDefault":true,"library":"lib/jquery.1.10.2.js","steal":{"map":{"*":{"can/util/util.js":"can/util/jquery/jquery.js","jquery/jquery.js":"can/lib/jquery.1.10.2.js"}}}},"jquery-2":{"description":"jQuery (2.x)","hidden":true,"library":"lib/jquery.2.0.3.js","steal":{"map":{"*":{"can/util/util.js":"can/util/jquery/jquery.js","jquery/jquery.js":"can/lib/jquery.2.0.3.js"}}}},"zepto":{"description":"Zepto","library":"bower_components/zepto/zepto.js","steal":{"map":{"*":{"can/util/util.js":"can/util/zepto/zepto.js","zepto/zepto.js":"can/bower_components/zepto/zepto.js"}}}},"mootools":{"description":"Mootools","library":"lib/mootools-core-1.4.5.js","steal":{"map":{"*":{"can/util/util.js":"can/util/mootools/mootools.js","mootools/mootools.js":"can/lib/mootools-core-1.4.5.js"}}}},"yui":{"description":"YUI","library":"lib/yui-3.7.3.js","steal":{"map":{"*":{"can/util/util.js":"can/util/yui/yui.js","yui/yui.js":"can/lib/yui-3.7.3.js"}}}},"dojo":{"description":"Dojo","library":"util/dojo/dojo-1.8.1.js","steal":{"map":{"*":{"can/util/util.js":"can/util/dojo/dojo.js","dojo/dojo.js":"can/util/dojo/dojo-1.8.1.js"}}}}}},"url":{"builderData":"http://bitbuilder.herokuapp.com/canjs","builder":"http://bitbuilder.herokuapp.com/can.custom.js","bithub":"http://api.bithub.com/api/v1/events/","cdn":"//canjs.com/release/"},"static":"scripts/static","templates":"scripts/docset-templates","forceBuild":false,"minifyBuild":true,"versionsSrc":"../../versions.json","version":"2.1","isVersioned":true,"versions":[{"number":"2.1","branch":"master"},{"number":"2.0"},{"number":"1.1"}]};
    window.Bitovi = {
      URL: {
        BUILDER: 'http://bitbuilder.herokuapp.com/can.custom.js',
        BUILDER_DATA: 'http://bitbuilder.herokuapp.com/canjs',
        BITHUB: 'http://api.bithub.com/api/v1/events/',
        CDN: '//canjs.com/release/'
      }
    }
    steal = {
      productionId: "production.js",
      executed: ["documentjs/site/static/build/production.css"]
    }
  </script>
  <script 
  
    src="./static/steal.production.js"
  
    ></script>
</body>

</html>
